{
    "$schema":"http://json-schema.org/draft-04/schema#",
    "type":"object",
    "allOf":[
       {
          "$schema":"http://json-schema.org/draft-04/schema#",
          "type":"object",
          "allOf":[
             {
                "type":"object",
                "properties":{
                   "kind":{
                      "type":"string",
                      "description":"Describes the type of resource. e.g. ingress, application, mysql etc. If not specified, fallback is the `folder_name`/instances"
                   },
                   "flavor":{
                      "type":"string",
                      "description":"Implementation selector for the resource. e.g. for a resource type ingress, default, aws_alb, gcp_alb etc."
                   },
                   "version":{
                      "type":"string",
                      "description":"This field can be used to pin to a particular version"
                   },
                   "lifecycle":{
                      "type":"string",
                      "description":"This field describes the phase in which the resource has to be invoked (`ENVIRONMENT_BOOTSTRAP`)",
                      "enum":[
                         "ENVIRONMENT_BOOTSTRAP",
                         "ENVIRONMENT"
                      ]
                   },
                   "disabled":{
                      "type":"boolean",
                      "description":"Flag to disable the resource"
                   },
                   "conditional_on_intent":{
                      "type":"string",
                      "description":"Flag to enable the resource based on intent availability. eg mysql if mysql dashboard is required to be deployed. Note: Need to have the instance running beforehand to avail."
                   },
                   "provided":{
                      "type":"boolean",
                      "description":"Flag to tell if the resource should not be provisioned by facets",
                      "default":false
                   },
                   "depends_on":{
                      "type":"array",
                      "items":{
                         
                      },
                      "description":"Dependencies on other resources. e.g. application x may depend on mysql"
                   },
                   "metadata":{
                      "type":"object",
                      "description":"Metadata related to the resource",
                      "properties":{
                         "name":{
                            "type":"string",
                            "description":"Name of the resource\n    - if not specified, fallback is the `filename`"
                         }
                      },
                      "required":[
                         
                      ]
                   },
                   "spec":{
                      "type":"object",
                      "description":"Specification as per resource types schema"
                   },
                   "out":{
                      "type":"object",
                      "description":"Output given by the resource for others to refer."
                   },
                   "advanced":{
                      "type":"object",
                      "description":"Additional fields if any for a particular implementation of a resource"
                   }
                }
             },
             {
                "if":{
                   "properties":{
                      "provided":{
                         "const":true
                      }
                   }
                },
                "then":{
                   "required":[
                      "kind",
                      "flavor",
                      "version",
                      "metadata"
                   ]
                }
             },
             {
                "if":{
                   "properties":{
                      "provided":{
                         "const":false
                      }
                   }
                },
                "then":{
                   "required":[
                      "kind",
                      "flavor",
                      "version",
                      "metadata",
                      "spec"
                   ]
                }
             }
          ]
       },
       {
          "type":"object",
          "properties":{
             "spec":{
                "type":"object",
                "properties":{
                   "release":{
                      "description":"Map of all release keys",
                      "$schema":"http://json-schema.org/draft-04/schema#",
                      "type":"object",
                      "properties":{
                         "image":{
                            "type":"string",
                            "description":"The docker image of the application that you want to run"
                         },
                         "build":{
                            "type":"object",
                            "description":"These contains the build objects required for running the containers",
                            "properties":{
                               "artifactory":{
                                  "type":"string",
                                  "description":"Parent artifactory name"
                               },
                               "name":{
                                  "type":"string",
                                  "description":"Name of the artifactory"
                               },
                               "pull_policy":{
                                  "type":"string",
                                  "description":"ImagePullPolicy",
                                  "enum":[
                                     "IfNotPresent",
                                     "Always",
                                     "Never"
                                  ]
                               }
                            },
                            "required":[
                               "artifactory",
                               "name"
                            ]
                         },
                         "strategy":{
                            "type":"object",
                            "description":"The type of upgrade strategy to be followed by this service",
                            "properties":{
                               "type":{
                                  "type":"string",
                                  "description":"Your kubernetes rollout type eg: RollingUpdate or Recreate",
                                  "enum":[
                                     "RollingUpdate",
                                     "Recreate"
                                  ]
                               },
                               "max_available":{
                                  "type":"string",
                                  "description":"If type RollingUpdate , this is the max number of pods that can be created from the default replicas"
                               },
                               "max_unavailable":{
                                  "type":"string",
                                  "description":"If type RollingUpdate , this is the max number of pods that can be unavailable from the default replicas"
                               }
                            },
                            "allOf":[
                               {
                                  "if":{
                                     "properties":{
                                        "type":{
                                           "enum":[
                                              "RollingUpdate"
                                           ]
                                        }
                                     }
                                  },
                                  "then":{
                                     "required":[
                                        "type"
                                     ]
                                  }
                               },
                               {
                                  "if":{
                                     "properties":{
                                        "type":{
                                           "enum":[
                                              "Recreate"
                                           ]
                                        }
                                     }
                                  },
                                  "then":{
                                     "required":[
                                        "type"
                                     ]
                                  }
                               }
                            ]
                         },
                         "disruption_policy":{
                            "type":"object",
                            "description":"The disruption policy for the service",
                            "properties":{
                               "min_available":{
                                  "type":"string",
                                  "description":"This is the min number of pods should be available in case of failures"
                               },
                               "max_unavailable":{
                                  "type":"string",
                                  "description":"This is the max number of pods that can be unavailable during a failure."
                               }
                            }
                         }
                      },
                      "oneOf":[
                         {
                            "if":{
                               "properties":{
                                  "build":{
                                     
                                  }
                               }
                            },
                            "then":{
                               "required":[
                                  "build"
                               ]
                            }
                         },
                         {
                            "if":{
                               "properties":{
                                  "image":{
                                     
                                  }
                               }
                            },
                            "then":{
                               "required":[
                                  "image"
                               ]
                            }
                         }
                      ],
                      "allOf":[
                         {
                            "if":{
                               "properties":{
                                  "type":{
                                     "enum":[
                                        "application",
                                        "statefulset"
                                     ]
                                  }
                               }
                            },
                            "then":{
                               "required":[
                                  "strategy"
                               ]
                            }
                         }
                      ]
                   },
                   "type":{
                      "type":"string",
                      "description":"This will specify the type of service you want to create. eg: application, statefulset,cronjob etc",
                      "enum":[
                         "application",
                         "statefulset",
                         "cronjob",
                         "job"
                      ]
                   },
                   "enable_host_anti_affinity":{
                      "type":"boolean",
                      "description":"boolean to enable or disable host anti affinity"
                   },
                   "env":{
                      "type":"object",
                      "description":"The key value pairs of all the environment variables that needs to be passed to the pod"
                   },
                   "runtime":{
                      "description":"Map of all runtime keys",
                      "$schema":"http://json-schema.org/draft-04/schema#",
                      "type":"object",
                      "properties":{
                         "command":{
                            "type":"array",
                            "description":"The list of commands you want to perform before starting the container"
                         },
                         "args":{
                            "type":"array",
                            "description":"The list of arguments you want to pass for the above mentioned command"
                         },
                         "ports":{
                            "description":"Maps of all the ports that you want to expose in the service",
                            "$schema":"http://json-schema.org/draft-04/schema#",
                            "type":"object",
                            "additionalProperties":false,
                            "minProperties":1,
                            "patternProperties":{
                               "^[a-zA-Z0-9_.-]*$":{
                                  "description":"This is the name of the port that you have to specify",
                                  "properties":{
                                     "protocol":{
                                        "type":"string",
                                        "description":"the protocol of the port , either tcp or udp",
                                        "enum":[
                                           "tcp",
                                           "udp"
                                        ]
                                     },
                                     "port":{
                                        "type":"string",
                                        "description":"the port number where the pod is exposed"
                                     },
                                     "service_port":{
                                        "type":"string",
                                        "description":"the port number where the service is exposed, this is optional"
                                     }
                                  },
                                  "required":[
                                     "protocol",
                                     "port"
                                  ]
                               }
                            }
                         },
                         "metrics":{
                            "description":"Maps of all the metrics port that you want to expose to prometheus",
                            "$schema":"http://json-schema.org/draft-04/schema#",
                            "type":"object",
                            "additionalProperties":false,
                            "minProperties":1,
                            "patternProperties":{
                               "^[a-zA-Z0-9_.-]*$":{
                                  "description":"This is the name of the metrics, this can be any name",
                                  "properties":{
                                     "path":{
                                        "type":"string",
                                        "description":"the path where the service monitor should scrape metrics"
                                     },
                                     "port_name":{
                                        "type":"string",
                                        "description":"name of the service monitor"
                                     }
                                  },
                                  "required":[
                                     "path",
                                     "port_name"
                                  ]
                               }
                            }
                         },
                         "size":{
                            "description":"Size of the deployment pods",
                            "$schema":"http://json-schema.org/draft-07/schema#",
                            "type":"object",
                            "required":[
                               "cpu",
                               "memory"
                            ],
                            "properties":{
                               "cpu":{
                                  "type":"string",
                                  "description":"The number of CPU cores required, e.g '1' or '1000m'",
                                  "minLength":1,
                                  "pattern":"^[0-9]+[m]?$",
                                  "examples":[
                                     "1",
                                     "1000m"
                                  ]
                               },
                               "memory":{
                                  "type":"string",
                                  "description":"The amount of memory required, e.g '800Mi' or '1.5Gi'",
                                  "minLength":1,
                                  "pattern":"^[0-9]+(\\.[0-9]+)?[EiKMGTP]i?",
                                  "examples":[
                                     "800Mi",
                                     "1.5Gi"
                                  ]
                               },
                               "cpu_limit":{
                                  "type":"string",
                                  "description":"The CPU limit to set a maximum limit on the amount of CPU resources utilization, e.g '1' or '1000m'",
                                  "minLength":1,
                                  "pattern":"^[0-9]+[m]?$",
                                  "examples":[
                                     "1",
                                     "1000m"
                                  ]
                               },
                               "memory_limit":{
                                  "type":"string",
                                  "description":"The memory limit to set a maximum limit on the amount of memory resources utilization, e.g '800Mi' or '1.5Gi'",
                                  "minLength":1,
                                  "pattern":"^[0-9]+(\\.[0-9]+)?[EiKMGTP]i?",
                                  "examples":[
                                     "800Mi",
                                     "1.5Gi"
                                  ]
                               }
                            }
                         },
                         "volumes":{
                            "type":"object",
                            "description":"All the volumes you want to attach to the service",
                            "properties":{
                               "config_maps":{
                                  "type":"object",
                                  "description":"The map of all the config maps that you want to mount",
                                  "additionalProperties":false,
                                  "minProperties":1,
                                  "patternProperties":{
                                     "^[a-zA-Z0-9_.-]*$":{
                                        "properties":{
                                           "name":{
                                              "type":"string",
                                              "description":"The name of the config map that has been created in the kubernetes cluster"
                                           },
                                           "mount_path":{
                                              "type":"string",
                                              "description":"The mount path for the config map"
                                           }
                                        }
                                     }
                                  }
                               },
                               "secrets":{
                                  "type":"object",
                                  "description":"The map of all the secrets that you want to mount",
                                  "additionalProperties":false,
                                  "minProperties":1,
                                  "patternProperties":{
                                     "^[a-zA-Z0-9_.-]*$":{
                                        "properties":{
                                           "name":{
                                              "type":"string",
                                              "description":"The name of the secret that has been created in the kubernetes cluster"
                                           },
                                           "mount_path":{
                                              "type":"string",
                                              "description":"The mount path for the secrets"
                                           }
                                        }
                                     }
                                  }
                               },
                               "pvc":{
                                  "type":"object",
                                  "description":"The map of all the pvcs that you want to mount",
                                  "additionalProperties":false,
                                  "minProperties":1,
                                  "patternProperties":{
                                     "^[a-zA-Z0-9_.-]*$":{
                                        "properties":{
                                           "claim_name":{
                                              "type":"string",
                                              "description":"The name of the pvc that has been created in the kubernetes cluster"
                                           },
                                           "mount_path":{
                                              "type":"string",
                                              "description":"The mount path for the pvc"
                                           }
                                        }
                                     }
                                  }
                               },
                               "host_path":{
                                  "type":"object",
                                  "description":"The map of all the secrets that you want to mount",
                                  "additionalProperties":false,
                                  "minProperties":1,
                                  "patternProperties":{
                                     "^[a-zA-Z0-9_.-]*$":{
                                        "properties":{
                                           "mount_path":{
                                              "type":"string",
                                              "description":"The mount path for the host path"
                                           }
                                        }
                                     }
                                  }
                               }
                            }
                         },
                         "health_checks":{
                            "type":"object",
                            "description":"All the health check related key value pairs",
                            "properties":{
                               "start_up_time":{
                                  "type":"string",
                                  "description":"The time kubernetes api needs to wait until the application is ready"
                               },
                               "liveness_start_up_time":{
                                  "type":"string",
                                  "description":"The time kubernetes api needs to wait until the application is ready for liveness check, this is takes precedence from start_up_time"
                               },
                               "readiness_start_up_time":{
                                  "type":"string",
                                  "description":"The time kubernetes api needs to wait until the application is ready for readiness check, this is takes precedence from start_up_time"
                               },
                               "timeout":{
                                  "type":"string",
                                  "description":"Timeout for the health check"
                               },
                               "liveness_timeout":{
                                  "type":"string",
                                  "description":"Timeout for the health check liveness, this is takes precedence from timeout"
                               },
                               "readiness_timeout":{
                                  "type":"string",
                                  "description":"Timeout for the health check readiness, this is takes precedence from timeout"
                               },
                               "period":{
                                  "type":"string",
                                  "description":"This is the repeated interval in which kubelet does a health check"
                               },
                               "liveness_period":{
                                  "type":"string",
                                  "description":"This is the repeated interval in which kubelet does a health check, this is takes precedence from period"
                               },
                               "readiness_period":{
                                  "type":"string",
                                  "description":"This is the repeated interval in which kubelet does a health check, this is takes precedence from period"
                               },
                               "port":{
                                  "type":"string",
                                  "description":"Specify the port in which the health checks should be made"
                               },
                               "liveness_port":{
                                  "type":"string",
                                  "description":"Specify the port in which the health checks should be made, this is takes precedence from port"
                               },
                               "readiness_port":{
                                  "type":"string",
                                  "description":"Specify the port in which the health checks should be made, this is takes precedence from port"
                               },
                               "liveness_url":{
                                  "type":"string",
                                  "description":"URL to make the liveness check"
                               },
                               "readiness_url":{
                                  "type":"string",
                                  "description":"URL to make the readiness check"
                               },
                               "liveness_exec_command":{
                                  "type":"array",
                                  "description":"The list of commands to make liveness check "
                               },
                               "readiness_exec_command":{
                                  "type":"array",
                                  "description":"The list of commands to make readiness check"
                               }
                            },
                            "allOf":[
                               {
                                  "if":{
                                     "not":{
                                        "allOf":[
                                           {
                                              "required":[
                                                 "liveness_start_up_time"
                                              ]
                                           },
                                           {
                                              "required":[
                                                 "readiness_start_up_time"
                                              ]
                                           }
                                        ]
                                     }
                                  },
                                  "then":{
                                     "required":[
                                        "start_up_time"
                                     ]
                                  }
                               },
                               {
                                  "if":{
                                     "not":{
                                        "allOf":[
                                           {
                                              "required":[
                                                 "liveness_timeout"
                                              ]
                                           },
                                           {
                                              "required":[
                                                 "readiness_timeout"
                                              ]
                                           }
                                        ]
                                     }
                                  },
                                  "then":{
                                     "required":[
                                        "timeout"
                                     ]
                                  }
                               },
                               {
                                  "if":{
                                     "not":{
                                        "allOf":[
                                           {
                                              "required":[
                                                 "liveness_port"
                                              ]
                                           },
                                           {
                                              "required":[
                                                 "readiness_port"
                                              ]
                                           }
                                        ]
                                     }
                                  },
                                  "then":{
                                     "required":[
                                        "port"
                                     ]
                                  }
                               },
                               {
                                  "if":{
                                     "not":{
                                        "allOf":[
                                           {
                                              "required":[
                                                 "liveness_period"
                                              ]
                                           },
                                           {
                                              "required":[
                                                 "readiness_period"
                                              ]
                                           }
                                        ]
                                     }
                                  },
                                  "then":{
                                     "required":[
                                        "period"
                                     ]
                                  }
                               }
                            ]
                         },
                         "autoscaling":{
                            "type":"object",
                            "properties":{
                               "min":{
                                  "type":"string",
                                  "description":"This is the min replicas where the hpa downscales to"
                               },
                               "max":{
                                  "type":"string",
                                  "description":"This is the max replicas where the hpa upscales to "
                               },
                               "cpu_threshold":{
                                  "type":"string",
                                  "description":"The max cpu threshold that the hpa waits until it upscales"
                               },
                               "ram_threshold":{
                                  "type":"string",
                                  "description":"The max ram threshold that the hpa waits until it upscales"
                               },
                               "packets_per_second":{
                                  "type":"string",
                                  "description":"The max number of packets that can be sent to the pod, once exceeded it autoscales. eg: 10k"
                               },
                               "requests_per_second":{
                                  "type":"object",
                                  "description":"Requests per second RPS object keys",
                                  "properties":{
                                     "threshold":{
                                        "type":"string",
                                        "description":"The rps threshold that hpa looks for , once exceeds it autoscales eg: 10k"
                                     },
                                     "ingress_name":{
                                        "type":"string",
                                        "description":"Name of the ingress object that the hpa should watch for autoscaling"
                                     }
                                  },
                                  "required":[
                                     "threshold",
                                     "ingress_name"
                                  ]
                               }
                            },
                            "oneOf":[
                               {
                                  "if":{
                                     "properties":{
                                        "cpu_threshold":{
                                           
                                        }
                                     }
                                  },
                                  "then":{
                                     "required":[
                                        "cpu_threshold",
                                        "min",
                                        "max"
                                     ]
                                  }
                               },
                               {
                                  "if":{
                                     "properties":{
                                        "ram_threshold":{
                                           
                                        }
                                     }
                                  },
                                  "then":{
                                     "required":[
                                        "ram_threshold",
                                        "min",
                                        "max"
                                     ]
                                  }
                               }
                            ]
                         }
                      },
                      "required":[
                         "ports",
                         "size",
                         "health_checks"
                      ]
                   },
                   "restart_policy":{
                      "type":"string",
                      "description":"Can be of type Always , OnFailure or Never",
                      "enum":[
                         "Always",
                         "OnFailure",
                         "Never"
                      ]
                   }
                },
                "required":[
                   "release",
                   "type",
                   "enable_host_anti_affinity",
                   "runtime",
                   "env"
                ],
                "allOf":[
                   {
                      "if":{
                         "properties":{
                            "type":{
                               "enum":[
                                  "application"
                               ]
                            }
                         }
                      },
                      "then":{
                         "$schema":"http://json-schema.org/draft-04/schema#",
                         "type":"object",
                         "properties":{
                            "type":{
                               "type":"string",
                               "default":"application"
                            }
                         },
                         "required":[
                            "type"
                         ]
                      }
                   },
                   {
                      "if":{
                         "properties":{
                            "type":{
                               "enum":[
                                  "statefulset"
                               ]
                            }
                         }
                      },
                      "then":{
                         "$schema":"http://json-schema.org/draft-04/schema#",
                         "type":"object",
                         "properties":{
                            "type":{
                               "type":"string",
                               "default":"statefulset"
                            },
                            "persistent_volume_claims":{
                               "description":"these are the maps of pvc that you will create and mount to your statefulset",
                               "$schema":"http://json-schema.org/draft-04/schema#",
                               "type":"object",
                               "additionalProperties":false,
                               "minProperties":1,
                               "patternProperties":{
                                  "^[a-zA-Z0-9_.-]*$":{
                                     "description":"This key is the name of the claim that you want to create, this can be any name",
                                     "properties":{
                                        "access_mode":{
                                           "type":"string",
                                           "description":"This will define the read and write access of the the pvc , this can be of type ReadWriteOnce or ReadWriteMany"
                                        },
                                        "storage_size":{
                                           "type":"string",
                                           "description":"The storage size of the pvc , it should be specified like `10Gi` "
                                        },
                                        "path":{
                                           "type":"string",
                                           "description":"The path where you want to mount the pvc"
                                        }
                                     },
                                     "required":[
                                        "access_mode",
                                        "storage_size",
                                        "path"
                                     ]
                                  }
                               }
                            }
                         },
                         "required":[
                            "persistent_volume_claims",
                            "type"
                         ]
                      }
                   },
                   {
                      "if":{
                         "properties":{
                            "type":{
                               "enum":[
                                  "cronjob"
                               ]
                            }
                         }
                      },
                      "then":{
                         "$schema":"http://json-schema.org/draft-04/schema#",
                         "type":"object",
                         "properties":{
                            "type":{
                               "type":"string",
                               "default":"cronjob"
                            },
                            "cronjob":{
                               "type":"object",
                               "properties":{
                                  "schedule":{
                                     "type":"string",
                                     "description":"This is the cron scheduler that you have to specify in cron format"
                                  },
                                  "suspend":{
                                     "type":"boolean",
                                     "description":"It will suspend all executions"
                                  },
                                  "concurreny_policy":{
                                     "type":"string",
                                     "description":"Specifies how to treat concurrent executions of a job that is created by this cron job.",
                                     "enum":[
                                        "Allow",
                                        "Forbid",
                                        "Replace"
                                     ]
                                  }
                               },
                               "required":[
                                  "schedule",
                                  "suspend",
                                  "concurreny_policy"
                               ]
                            },
                            "job":{
                               "type":"object",
                               "properties":{
                                  "retry":{
                                     "type":"string",
                                     "description":"the number of time you want to retry the job before calling it a failure"
                                  }
                               },
                               "required":[
                                  "retry"
                               ]
                            }
                         },
                         "required":[
                            "job",
                            "cronjob",
                            "type"
                         ]
                      }
                   },
                   {
                      "if":{
                         "properties":{
                            "type":{
                               "enum":[
                                  "job"
                               ]
                            }
                         }
                      },
                      "then":{
                         "$schema":"http://json-schema.org/draft-04/schema#",
                         "type":"object",
                         "properties":{
                            "type":{
                               "type":"string",
                               "default":"job"
                            },
                            "job":{
                               "type":"object",
                               "properties":{
                                  "retry":{
                                     "type":"string",
                                     "description":"the number of time you want to retry the job before calling it a failure"
                                  }
                               },
                               "required":[
                                  "retry"
                               ]
                            }
                         },
                         "required":[
                            "job",
                            "type"
                         ]
                      }
                   }
                ]
             },
             "advanced":{
                "type":"object",
                "description":"Advanced section of kind service",
                "properties":{
                   "aws":{
                      "type":"object",
                      "description":"Map of all aws advanced keys",
                      "$schema":"http://json-schema.org/draft-04/schema#",
                      "properties":{
                         "iam":{
                            "type":"object",
                            "description":"This is the iam key where all iam permissions are attached for the deployment",
                            "additionalProperties":false,
                            "minProperties":1,
                            "patternProperties":{
                               "^[a-zA-Z0-9_.-]*$":{
                                  "description":"This is the name of the iam object that you are creating, it can be of any name",
                                  "properties":{
                                     "arn":{
                                        "type":"string",
                                        "definition":"The arn of the policy that you want to create a role and attach it to the deployment"
                                     }
                                  },
                                  "required":[
                                     "arn"
                                  ]
                               }
                            }
                         },
                         "vm":{
                            "type":"object",
                            "description":"This is the advanced block where we define vm implementation for aws",
                            "properties":{
                               "is_vm_image":{
                                  "type":"boolean",
                                  "description":"Boolean value to specify if the artifact is vm ami or not"
                               },
                               "vm_image_id":{
                                  "type":"string",
                                  "description":"Image id of the vm"
                               },
                               "is_public":{
                                  "type":"boolean",
                                  "description":"specify if the vm is public"
                               },
                               "security_group":{
                                  "type":"object",
                                  "description":"Define securrity groups for the vm",
                                  "properties":{
                                     "additional_ingress_with_cidr_blocks":{
                                        "type":"object",
                                        "description":"List of ingress rules to create where 'cidr_blocks' is used",
                                        "additionalProperties":false,
                                        "minProperties":1,
                                        "patternProperties":{
                                           "^[a-zA-Z0-9_.-]*$":{
                                              "type":"object",
                                              "description":"Define a name for the security group that you want to create",
                                              "properties":{
                                                 "from_port":{
                                                    "type":"string",
                                                    "description":"Define the port that you want to allow traffic from"
                                                 },
                                                 "to_port":{
                                                    "type":"string",
                                                    "description":"Define the port that you want to allow traffic to"
                                                 },
                                                 "protocol":{
                                                    "type":"string",
                                                    "description":"Define the protocol that you want the traffic to follow"
                                                 },
                                                 "cidr_blocks":{
                                                    "type":"string",
                                                    "description":"Define the cidr range that you want to allow the traffic from"
                                                 }
                                              }
                                           }
                                        }
                                     },
                                     "additional_ingress_cidr_blocks":{
                                        "type":"object",
                                        "description":"List of IPv4 CIDR ranges to use on all ingress rules",
                                        "additionalProperties":false,
                                        "minProperties":1,
                                        "patternProperties":{
                                           "^[a-zA-Z0-9_.-]*$":{
                                              "type":"string",
                                              "description":"Define the IPv4 CIDR ranges to use on all ingress rules"
                                           }
                                        }
                                     },
                                     "tags":{
                                        "type":"object",
                                        "description":"Tags you want to add to the security group",
                                        "properties":{
                                           "Name":{
                                              "type":"string",
                                              "description":"A mapping of tags to assign to security group"
                                           }
                                        }
                                     }
                                  }
                               },
                               "alb":{
                                  "type":"object",
                                  "description":"Define the status of alb",
                                  "properties":{
                                     "enabled":{
                                        "type":"boolean",
                                        "description":"Controls if the Load Balancer should be created"
                                     },
                                     "internal":{
                                        "type":"boolean",
                                        "description":"Boolean determining if the load balancer is internal or externally facing"
                                     },
                                     "additional_http_tcp_listeners":{
                                        "type":"object",
                                        "description":"Additional http tcp listeners that you want to add to the loadbalancer",
                                        "additionalProperties":false,
                                        "minProperties":1,
                                        "patternProperties":{
                                           "^[a-zA-Z0-9_.-]*$":{
                                              "type":"object",
                                              "description":"Define an arbitary name for the listener",
                                              "properties":{
                                                 "port":{
                                                    "description":"port you want to map",
                                                    "type":"string"
                                                 },
                                                 "protocol":{
                                                    "description":"Protocol to be used",
                                                    "type":"string"
                                                 },
                                                 "default_action":{
                                                    "type":"object",
                                                    "description":"Define the default action",
                                                    "additionalProperties":false,
                                                    "minProperties":1,
                                                    "patternProperties":{
                                                       "^[a-zA-Z0-9_.-]*$":{
                                                          "type":"object",
                                                          "description":"Arbitary name for the default action",
                                                          "properties":{
                                                             "action_type":{
                                                                "type":"string",
                                                                "description":"specify the action type"
                                                             },
                                                             "target_group_index":{
                                                                "type":"string",
                                                                "description":"specify the target group index"
                                                             },
                                                             "redirect":{
                                                                "type":"object",
                                                                "description":"Define the options to redirect",
                                                                "additionalProperties":false,
                                                                "minProperties":1,
                                                                "patternProperties":{
                                                                   "^[a-zA-Z0-9_.-]*$":{
                                                                      "type":"object",
                                                                      "description":"Arbitary name for the redirect options",
                                                                      "properties":{
                                                                         "path":{
                                                                            "type":"string",
                                                                            "description":"specify path"
                                                                         },
                                                                         "host":{
                                                                            "type":"string",
                                                                            "description":"specify host"
                                                                         },
                                                                         "port":{
                                                                            "type":"string",
                                                                            "description":"specify port"
                                                                         },
                                                                         "protocol":{
                                                                            "type":"string",
                                                                            "description":"specify protocol"
                                                                         },
                                                                         "query":{
                                                                            "type":"string",
                                                                            "description":"specify query"
                                                                         },
                                                                         "status_code":{
                                                                            "type":"string",
                                                                            "description":"specify status code"
                                                                         }
                                                                      }
                                                                   }
                                                                }
                                                             },
                                                             "fixed_response":{
                                                                "type":"object",
                                                                "description":"Define fixed response",
                                                                "additionalProperties":false,
                                                                "minProperties":1,
                                                                "patternProperties":{
                                                                   "^[a-zA-Z0-9_.-]*$":{
                                                                      "type":"object",
                                                                      "description":"Arbitary name for the fixed response",
                                                                      "properties":{
                                                                         "content_type":{
                                                                            "type":"string",
                                                                            "description":"specify content type"
                                                                         },
                                                                         "message_body":{
                                                                            "type":"string",
                                                                            "description":"specify message body"
                                                                         },
                                                                         "status_code":{
                                                                            "type":"string",
                                                                            "description":"specify status_code"
                                                                         }
                                                                      }
                                                                   }
                                                                }
                                                             },
                                                             "tags":{
                                                                "type":"object",
                                                                "description":"Tags you want to add to the additional target groups",
                                                                "properties":{
                                                                   "Name":{
                                                                      "type":"string",
                                                                      "description":"A mapping of tags to assign to additional target groups"
                                                                   }
                                                                }
                                                             }
                                                          }
                                                       }
                                                    }
                                                 }
                                              },
                                              "required":[
                                                 "port",
                                                 "protocol"
                                              ]
                                           }
                                        }
                                     },
                                     "additional_subnets":{
                                        "type":"object",
                                        "description":"Define additional subnets to attach",
                                        "additionalProperties":false,
                                        "minProperties":1,
                                        "patternProperties":{
                                           "^[a-zA-Z0-9_.-]*$":{
                                              "type":"string",
                                              "description":"A list of subnets to associate with the load balancer. e.g. ['subnet-1a2b3c4d','subnet-1a2b3c4e','subnet-1a2b3c4f']"
                                           }
                                        }
                                     },
                                     "additional_target_groups":{
                                        "type":"object",
                                        "description":"A list of maps containing key/value pairs that define the target groups to be created. Order of these maps is important and the index of these are to be referenced in listener definitions. Required key/values: name, backend_protocol, backend_port",
                                        "additionalProperties":false,
                                        "minProperties":1,
                                        "patternProperties":{
                                           "^[a-zA-Z0-9_.-]*$":{
                                              "type":"object",
                                              "description":"Arbitary name for the additional target groups",
                                              "properties":{
                                                 "name":{
                                                    "type":"string",
                                                    "description":"specify name"
                                                 },
                                                 "name_prefix":{
                                                    "type":"string",
                                                    "description":"specify name prefix"
                                                 },
                                                 "vpc_id":{
                                                    "type":"string",
                                                    "description":"specify vpc id"
                                                 },
                                                 "backend_port":{
                                                    "type":"string",
                                                    "description":"specify backend port"
                                                 },
                                                 "backend_protocol":{
                                                    "type":"string",
                                                    "description":"specify backend protocol"
                                                 },
                                                 "protocol_version":{
                                                    "type":"string",
                                                    "description":"specify protocol version"
                                                 },
                                                 "target_type":{
                                                    "type":"string",
                                                    "description":"specify target type"
                                                 },
                                                 "deregistration_delay":{
                                                    "type":"string",
                                                    "description":"specify deregistration delay"
                                                 },
                                                 "slow_start":{
                                                    "type":"string",
                                                    "description":"specify slow start"
                                                 },
                                                 "proxy_protocol_v2":{
                                                    "type":"string",
                                                    "description":"specify proxy protocol v2"
                                                 },
                                                 "lambda_multi_value_headers_enabled":{
                                                    "type":"string",
                                                    "description":"specify lambda multi value headers enabled"
                                                 },
                                                 "load_balancing_algorithm_type":{
                                                    "type":"string",
                                                    "description":"specify load balancing algorithm type"
                                                 },
                                                 "preserve_client_ip":{
                                                    "type":"string",
                                                    "description":"specify preserve_client_ip"
                                                 },
                                                 "health_check":{
                                                    "type":"object",
                                                    "description":"Define health check",
                                                    "additionalProperties":false,
                                                    "minProperties":1,
                                                    "patternProperties":{
                                                       "^[a-zA-Z0-9_.-]*$":{
                                                          "type":"object",
                                                          "description":"Arbitary name for health check",
                                                          "properties":{
                                                             "enabled":{
                                                                "type":"string",
                                                                "description":"specify if enabled"
                                                             },
                                                             "interval":{
                                                                "type":"string",
                                                                "description":"Specify interval"
                                                             },
                                                             "path":{
                                                                "type":"string",
                                                                "description":"specify path"
                                                             },
                                                             "port":{
                                                                "type":"string",
                                                                "description":"specify port"
                                                             },
                                                             "healthy_threshold":{
                                                                "type":"string",
                                                                "description":"specify healthy threshold"
                                                             },
                                                             "unhealthy_threshold":{
                                                                "type":"string",
                                                                "description":"specify unhealthy threshold"
                                                             },
                                                             "timeout":{
                                                                "type":"string",
                                                                "description":"specify timeout"
                                                             },
                                                             "protocol":{
                                                                "type":"string",
                                                                "description":"specify protocol"
                                                             },
                                                             "matcher":{
                                                                "type":"string",
                                                                "description":"specify matcher"
                                                             }
                                                          }
                                                       }
                                                    }
                                                 },
                                                 "stickiness":{
                                                    "type":"object",
                                                    "description":"define stickiness",
                                                    "additionalProperties":false,
                                                    "minProperties":1,
                                                    "patternProperties":{
                                                       "^[a-zA-Z0-9_.-]*$":{
                                                          "type":"object",
                                                          "description":"Arbitary name for stickiness",
                                                          "properties":{
                                                             "enabled":{
                                                                "type":"string",
                                                                "description":"specify if enabled"
                                                             },
                                                             "cookie_duration":{
                                                                "type":"string",
                                                                "description":"specify cookie duration"
                                                             },
                                                             "type":{
                                                                "type":"string",
                                                                "description":"specify type"
                                                             },
                                                             "cookie_name":{
                                                                "type":"string",
                                                                "description":"specify cookie name"
                                                             }
                                                          }
                                                       }
                                                    }
                                                 },
                                                 "tags":{
                                                    "type":"object",
                                                    "description":"Tags you want to add to the additional target groups",
                                                    "properties":{
                                                       "Name":{
                                                          "type":"string",
                                                          "description":"A mapping of tags to assign to additional target groups"
                                                       }
                                                    }
                                                 }
                                              }
                                           }
                                        }
                                     },
                                     "target_group_arns":{
                                        "type":"object",
                                        "description":"Define your target group arn's",
                                        "additionalProperties":false,
                                        "minProperties":1,
                                        "patternProperties":{
                                           "^[a-zA-Z0-9_.-]*$":{
                                              "type":"string",
                                              "description":"Arbitary name for the target group arn's"
                                           }
                                        }
                                     },
                                     "tags":{
                                        "type":"object",
                                        "description":"Tags you want to add to the security group",
                                        "properties":{
                                           "Name":{
                                              "type":"string",
                                              "description":"A map of tags to add to all resources"
                                           }
                                        }
                                     }
                                  }
                               },
                               "autoscaling_group":{
                                  "type":"object",
                                  "description":"Define autoscaling group for the vm's",
                                  "properties":{
                                     "use_mixed_instances_policy":{
                                        "type":"boolean",
                                        "description":"Specify if you want to use use mixed instances policy"
                                     },
                                     "maintenance_options":{
                                        "type":"string",
                                        "description":"Define maintenance options"
                                     },
                                     "mixed_instances_policy":{
                                        "type":"object",
                                        "description":"Configuration block containing settings to define launch targets for Auto Scaling groups",
                                        "additionalProperties":false,
                                        "minProperties":1,
                                        "patternProperties":{
                                           "^[a-zA-Z0-9_.-]*$":{
                                              "type":"object",
                                              "description":"Arbitary name for the mixed instances policy",
                                              "properties":{
                                                 "instances_distribution":{
                                                    "type":"object",
                                                    "description":"specify the details of instances distribution",
                                                    "additionalProperties":false,
                                                    "minProperties":1,
                                                    "patternProperties":{
                                                       "^[a-zA-Z0-9_.-]*$":{
                                                          "type":"object",
                                                          "description":"arbitary name for the instance distribution",
                                                          "properties":{
                                                             "on_demand_allocation_strategy":{
                                                                "type":"string",
                                                                "description":"specify on demand allocation strategy "
                                                             },
                                                             "on_demand_base_capacity":{
                                                                "type":"string",
                                                                "description":"specify the on demand base capacity"
                                                             },
                                                             "on_demand_percentage_above_base_capacity":{
                                                                "type":"string",
                                                                "description":"specify on demand percentage above base capacity"
                                                             },
                                                             "spot_allocation_strategy":{
                                                                "type":"string",
                                                                "description":"specify spot allocation strategy"
                                                             },
                                                             "spot_instance_pools":{
                                                                "type":"string",
                                                                "description":"specify spot instance pools"
                                                             },
                                                             "spot_max_price":{
                                                                "type":"string",
                                                                "description":"specify spot max price"
                                                             }
                                                          }
                                                       }
                                                    }
                                                 },
                                                 "overrides":{
                                                    "type":"object",
                                                    "description":"Specify your overrides for the instances",
                                                    "additionalProperties":false,
                                                    "minProperties":1,
                                                    "patternProperties":{
                                                       "^[a-zA-Z0-9_.-]*$":{
                                                          "type":"object",
                                                          "description":"arbitary name for the overrides that you want to make",
                                                          "properties":{
                                                             "instance_type":{
                                                                "type":"string",
                                                                "description":"Specify the type of instance"
                                                             },
                                                             "weighted_capacity":{
                                                                "type":"string",
                                                                "description":"Specify the weighted capacity that you want for the instance type"
                                                             },
                                                             "launch_template_specification":{
                                                                "type":"object",
                                                                "description":"define launch template specification",
                                                                "additionalProperties":false,
                                                                "minProperties":1,
                                                                "patternProperties":{
                                                                   "^[a-zA-Z0-9_.-]*$":{
                                                                      "type":"object",
                                                                      "description":"Arbitary name for the launch template specification",
                                                                      "properties":{
                                                                         "launch_template_id":{
                                                                            "type":"string",
                                                                            "description":"specify the launch template id"
                                                                         }
                                                                      }
                                                                   }
                                                                }
                                                             }
                                                          }
                                                       }
                                                    }
                                                 }
                                              }
                                           }
                                        }
                                     },
                                     "placement":{
                                        "type":"object",
                                        "description":"The placement of the instance",
                                        "additionalProperties":false,
                                        "minProperties":1,
                                        "patternProperties":{
                                           "^[a-zA-Z0-9_.-]*$":{
                                              "type":"object",
                                              "description":"Arbitary name for the placement of the instance",
                                              "properties":{
                                                 "affinity":{
                                                    "type":"string",
                                                    "description":"specify affinity"
                                                 },
                                                 "availability_zone":{
                                                    "type":"string",
                                                    "description":"specify availability zone"
                                                 },
                                                 "group_name":{
                                                    "type":"string",
                                                    "description":"specify group name"
                                                 },
                                                 "host_id":{
                                                    "type":"string",
                                                    "description":"specify host id"
                                                 },
                                                 "host_resource_group_arn":{
                                                    "type":"string",
                                                    "description":"specify host resource group arn"
                                                 },
                                                 "spread_domain":{
                                                    "type":"string",
                                                    "description":"specify spread domain"
                                                 },
                                                 "tenancy":{
                                                    "type":"string",
                                                    "description":"specify tenancy"
                                                 },
                                                 "partition_number":{
                                                    "type":"string",
                                                    "description":"specify partition number"
                                                 }
                                              }
                                           }
                                        }
                                     },
                                     "instance_refresh":{
                                        "type":"object",
                                        "description":"If this block is configured, start an Instance Refresh when this Auto Scaling Group is updated",
                                        "additionalProperties":false,
                                        "minProperties":1,
                                        "patternProperties":{
                                           "^[a-zA-Z0-9_.-]*$":{
                                              "type":"object",
                                              "description":"Arbitary name for the instance refresh properties",
                                              "properties":{
                                                 "strategy":{
                                                    "type":"string",
                                                    "description":"Specify the strategy"
                                                 },
                                                 "triggers":{
                                                    "type":"string",
                                                    "description":"Specify the triggers"
                                                 },
                                                 "preferences":{
                                                    "type":"object",
                                                    "description":"Specify the preferences",
                                                    "additionalProperties":false,
                                                    "minProperties":1,
                                                    "patternProperties":{
                                                       "^[a-zA-Z0-9_.-]*$":{
                                                          "type":"object",
                                                          "description":"arbitary name for the preferences",
                                                          "properties":{
                                                             "checkpoint_delay":{
                                                                "type":"string",
                                                                "description":"specify checkpoint delay"
                                                             },
                                                             "checkpoint_percentages":{
                                                                "type":"string",
                                                                "description":"specify checkpoint percentage"
                                                             },
                                                             "instance_warmup":{
                                                                "type":"string",
                                                                "description":"specify instance warmup"
                                                             },
                                                             "min_healthy_percentage":{
                                                                "type":"string",
                                                                "description":"specify min healthy percentage"
                                                             }
                                                          }
                                                       }
                                                    }
                                                 }
                                              }
                                           }
                                        }
                                     },
                                     "network_interfaces":{
                                        "type":"object",
                                        "description":"Customize network interfaces to be attached at instance boot time",
                                        "additionalProperties":false,
                                        "minProperties":1,
                                        "patternProperties":{
                                           "^[a-zA-Z0-9_.-]*$":{
                                              "type":"object",
                                              "description":"Arbitary name for network interfaces",
                                              "properties":{
                                                 "associate_carrier_ip_address":{
                                                    "type":"string",
                                                    "description":"specify associate carrier ip address"
                                                 },
                                                 "associate_public_ip_address":{
                                                    "type":"string",
                                                    "description":"specify associate public ip address"
                                                 },
                                                 "delete_on_termination":{
                                                    "type":"string",
                                                    "description":"specify delete on termination"
                                                 },
                                                 "description":{
                                                    "type":"object",
                                                    "description":"specify description"
                                                 },
                                                 "device_index":{
                                                    "type":"string",
                                                    "description":"specify device index"
                                                 },
                                                 "interface_type":{
                                                    "type":"string",
                                                    "description":"specify interface type"
                                                 },
                                                 "ipv4_addresses":{
                                                    "type":"string",
                                                    "description":"specify ipv4 addresses"
                                                 },
                                                 "ipv4_address_count":{
                                                    "type":"string",
                                                    "description":"specify ipv4 address count"
                                                 },
                                                 "ipv6_addresses":{
                                                    "type":"string",
                                                    "description":"specify ipv6 addresses"
                                                 },
                                                 "ipv6_address_count":{
                                                    "type":"string",
                                                    "description":"specify ipv6 address count"
                                                 },
                                                 "network_interface_id":{
                                                    "type":"string",
                                                    "description":"specify network interface id"
                                                 },
                                                 "network_card_index":{
                                                    "type":"string",
                                                    "description":"specify network card index"
                                                 },
                                                 "private_ip_address":{
                                                    "type":"string",
                                                    "description":"specify private ip address"
                                                 },
                                                 "security_groups":{
                                                    "type":"string",
                                                    "description":"specify security groups"
                                                 },
                                                 "subnet_id":{
                                                    "type":"string",
                                                    "description":"specify subnet id"
                                                 }
                                              }
                                           }
                                        }
                                     },
                                     "metadata_options":{
                                        "type":"object",
                                        "description":"Customize the metadata options for the instance",
                                        "additionalProperties":false,
                                        "minProperties":1,
                                        "patternProperties":{
                                           "^[a-zA-Z0-9_.-]*$":{
                                              "type":"object",
                                              "description":"Arbitary name for metadata options",
                                              "properties":{
                                                 "http_endpoint":{
                                                    "type":"string",
                                                    "description":"specify http endpoint"
                                                 },
                                                 "http_tokens":{
                                                    "type":"string",
                                                    "description":"specify http tokens"
                                                 },
                                                 "http_put_response_hop_limit":{
                                                    "type":"string",
                                                    "description":"specify http put response hop limit"
                                                 },
                                                 "http_protocol_ipv6":{
                                                    "type":"string",
                                                    "description":"specify http protocol ipv6"
                                                 },
                                                 "instance_metadata_tags":{
                                                    "type":"string",
                                                    "description":"specify instance metadata tags"
                                                 }
                                              }
                                           }
                                        }
                                     },
                                     "instance_market_options":{
                                        "type":"object",
                                        "description":"The market (purchasing) option for the instance",
                                        "additionalProperties":false,
                                        "minProperties":1,
                                        "patternProperties":{
                                           "^[a-zA-Z0-9_.-]*$":{
                                              "type":"object",
                                              "description":"Arbitary name for the instance market options",
                                              "properties":{
                                                 "market_type":{
                                                    "type":"string",
                                                    "description":"specify market type"
                                                 },
                                                 "spot_options":{
                                                    "type":"object",
                                                    "description":"Define spot options",
                                                    "additionalProperties":false,
                                                    "minProperties":1,
                                                    "patternProperties":{
                                                       "^[a-zA-Z0-9_.-]*$":{
                                                          "type":"object",
                                                          "description":"Arbitary name for instance spot options",
                                                          "properties":{
                                                             "block_duration_minutes":{
                                                                "type":"string",
                                                                "description":"specify block duration minutes"
                                                             },
                                                             "instance_interruption_behavior":{
                                                                "type":"string",
                                                                "description":"specify instance interruption behavior"
                                                             },
                                                             "max_price":{
                                                                "type":"string",
                                                                "description":"specify max price"
                                                             },
                                                             "spot_instance_type":{
                                                                "type":"string",
                                                                "description":"specify spot instance type"
                                                             },
                                                             "valid_until":{
                                                                "type":"string",
                                                                "description":"specify valid until time"
                                                             }
                                                          }
                                                       }
                                                    }
                                                 }
                                              }
                                           }
                                        }
                                     },
                                     "scaling_policies":{
                                        "type":"object",
                                        "description":"Map of target scaling policy schedule to create",
                                        "additionalProperties":false,
                                        "minProperties":1,
                                        "patternProperties":{
                                           "^[a-zA-Z0-9_.-]*$":{
                                              "type":"object",
                                              "description":"Arbitary name for the scaling policies",
                                              "properties":{
                                                 "name":{
                                                    "type":"string",
                                                    "description":"specify the name"
                                                 },
                                                 "adjustment_type":{
                                                    "type":"string",
                                                    "description":"specify the adjustment type"
                                                 },
                                                 "policy_type":{
                                                    "type":"string",
                                                    "description":"specify the policy type"
                                                 },
                                                 "estimated_instance_warmup":{
                                                    "type":"string",
                                                    "description":"specify the estimated instance warmup"
                                                 },
                                                 "cooldown":{
                                                    "type":"string",
                                                    "description":"specify the cooldown value"
                                                 },
                                                 "min_adjustment_magnitude":{
                                                    "type":"string",
                                                    "description":"specify the min adjustment magnitude"
                                                 },
                                                 "metric_aggregation_type":{
                                                    "type":"string",
                                                    "description":"specify the metric aggregation type"
                                                 },
                                                 "step_adjustment":{
                                                    "type":"object",
                                                    "description":"define the step adjustment",
                                                    "additionalProperties":false,
                                                    "minProperties":1,
                                                    "patternProperties":{
                                                       "^[a-zA-Z0-9_.-]*$":{
                                                          "type":"object",
                                                          "description":"Arbitary name for the step adjustment",
                                                          "properties":{
                                                             "scaling_adjustment":{
                                                                "type":"string",
                                                                "description":"specify scaling adjustment"
                                                             },
                                                             "metric_interval_lower_bound":{
                                                                "type":"string",
                                                                "description":"specify the metric interval lower bound"
                                                             },
                                                             "metric_interval_upper_bound":{
                                                                "type":"string",
                                                                "description":"specify the metric interval upper bound"
                                                             }
                                                          }
                                                       }
                                                    }
                                                 },
                                                 "target_tracking_configuration":{
                                                    "type":"object",
                                                    "description":"Define target_tracking_configuration",
                                                    "additionalProperties":false,
                                                    "minProperties":1,
                                                    "patternProperties":{
                                                       "^[a-zA-Z0-9_.-]*$":{
                                                          "type":"object",
                                                          "description":"Arbitary name for the target tracking configuration",
                                                          "properties":{
                                                             "target_value":{
                                                                "type":"string",
                                                                "description":"specify target value"
                                                             },
                                                             "disable_scale_in":{
                                                                "type":"string",
                                                                "description":"specify disable scale in"
                                                             },
                                                             "predefined_metric_specification":{
                                                                "type":"object",
                                                                "description":"Define predefined metric specification",
                                                                "additionalProperties":false,
                                                                "minProperties":1,
                                                                "patternProperties":{
                                                                   "^[a-zA-Z0-9_.-]*$":{
                                                                      "type":"object",
                                                                      "description":"Arbitary name for the predefined metric specification",
                                                                      "properties":{
                                                                         "predefined_metric_type":{
                                                                            "type":"string",
                                                                            "description":"specify predefined metric type"
                                                                         }
                                                                      }
                                                                   }
                                                                }
                                                             },
                                                             "customized_metric_specification":{
                                                                "type":"object",
                                                                "description":"Define customized metric specification",
                                                                "additionalProperties":false,
                                                                "minProperties":1,
                                                                "patternProperties":{
                                                                   "^[a-zA-Z0-9_.-]*$":{
                                                                      "type":"object",
                                                                      "description":"Arbitary name for customized metric specification",
                                                                      "properties":{
                                                                         "metric_dimension":{
                                                                            "type":"object",
                                                                            "description":"Define metric dimension",
                                                                            "additionalProperties":false,
                                                                            "minProperties":1,
                                                                            "patternProperties":{
                                                                               "^[a-zA-Z0-9_.-]*$":{
                                                                                  "properties":{
                                                                                     "name":{
                                                                                        "type":"string",
                                                                                        "description":"specify name"
                                                                                     },
                                                                                     "value":{
                                                                                        "type":"string",
                                                                                        "description":"specify value"
                                                                                     }
                                                                                  }
                                                                               }
                                                                            }
                                                                         },
                                                                         "metric_name":{
                                                                            "type":"string",
                                                                            "description":"specify metric name"
                                                                         },
                                                                         "namespace":{
                                                                            "type":"string",
                                                                            "description":"Specify namespace"
                                                                         },
                                                                         "statistic":{
                                                                            "type":"string",
                                                                            "description":"specify statistic"
                                                                         },
                                                                         "unit":{
                                                                            "type":"string",
                                                                            "description":"specify unit"
                                                                         }
                                                                      }
                                                                   }
                                                                }
                                                             }
                                                          }
                                                       }
                                                    }
                                                 },
                                                 "predictive_scaling_configuration":{
                                                    "type":"object",
                                                    "description":"Define predictive scaling configuration",
                                                    "additionalProperties":false,
                                                    "minProperties":1,
                                                    "patternProperties":{
                                                       "^[a-zA-Z0-9_.-]*$":{
                                                          "type":"object",
                                                          "description":"Arbitary name for predictive scaling configuration",
                                                          "properties":{
                                                             "max_capacity_breach_behavior":{
                                                                "type":"string",
                                                                "description":" specify max capacity breach behavior"
                                                             },
                                                             "max_capacity_buffer":{
                                                                "type":"string",
                                                                "description":"specify max capacity buffer"
                                                             },
                                                             "mode":{
                                                                "type":"string",
                                                                "description":"specify mode"
                                                             },
                                                             "scheduling_buffer_time":{
                                                                "type":"string",
                                                                "description":" specify scheduling buffer time"
                                                             },
                                                             "metric_specification":{
                                                                "type":"object",
                                                                "description":"Define metric specification",
                                                                "additionalProperties":false,
                                                                "minProperties":1,
                                                                "patternProperties":{
                                                                   "^[a-zA-Z0-9_.-]*$":{
                                                                      "type":"object",
                                                                      "description":"Arbitary name for the metric specification",
                                                                      "properties":{
                                                                         "target_value":{
                                                                            "type":"string",
                                                                            "description":"specify target value"
                                                                         },
                                                                         "predefined_load_metric_specification":{
                                                                            "type":"object",
                                                                            "description":"Define predefined load metric specification",
                                                                            "additionalProperties":false,
                                                                            "minProperties":1,
                                                                            "patternProperties":{
                                                                               "^[a-zA-Z0-9_.-]*$":{
                                                                                  "type":"object",
                                                                                  "description":"Arbitary name for the predefined load metric specification",
                                                                                  "properties":{
                                                                                     "predefined_metric_type":{
                                                                                        "type":"string",
                                                                                        "description":"specify predefined metric type"
                                                                                     },
                                                                                     "resource_label":{
                                                                                        "type":"string",
                                                                                        "description":"specify resource label"
                                                                                     }
                                                                                  }
                                                                               }
                                                                            }
                                                                         },
                                                                         "predefined_metric_pair_specification":{
                                                                            "type":"object",
                                                                            "description":"define predefined metric pair specification",
                                                                            "additionalProperties":false,
                                                                            "minProperties":1,
                                                                            "patternProperties":{
                                                                               "^[a-zA-Z0-9_.-]*$":{
                                                                                  "type":"object",
                                                                                  "description":"Arbitary name for the predefined metric pair specification",
                                                                                  "properties":{
                                                                                     "predefined_metric_type":{
                                                                                        "type":"string",
                                                                                        "description":"specify predefined metric type"
                                                                                     },
                                                                                     "resource_label":{
                                                                                        "type":"string",
                                                                                        "description":"specify resource label"
                                                                                     }
                                                                                  }
                                                                               }
                                                                            }
                                                                         },
                                                                         "predefined_scaling_metric_specification":{
                                                                            "type":"object",
                                                                            "description":"Define predefined scaling metric specification",
                                                                            "additionalProperties":false,
                                                                            "minProperties":1,
                                                                            "patternProperties":{
                                                                               "^[a-zA-Z0-9_.-]*$":{
                                                                                  "type":"object",
                                                                                  "description":"Arbitary name for the predefined scaling metric specification",
                                                                                  "properties":{
                                                                                     "predefined_metric_type":{
                                                                                        "type":"string",
                                                                                        "description":"specify predefined metric type"
                                                                                     },
                                                                                     "resource_label":{
                                                                                        "type":"string",
                                                                                        "description":"specify resource label"
                                                                                     }
                                                                                  }
                                                                               }
                                                                            }
                                                                         }
                                                                      }
                                                                   }
                                                                }
                                                             }
                                                          }
                                                       }
                                                    }
                                                 }
                                              }
                                           }
                                        }
                                     },
                                     "cpu_options":{
                                        "type":"object",
                                        "description":"The CPU options for the instance",
                                        "additionalProperties":false,
                                        "minProperties":1,
                                        "patternProperties":{
                                           "^[a-zA-Z0-9_.-]*$":{
                                              "type":"object",
                                              "description":"Arbitary name for the cpu options",
                                              "properties":{
                                                 "core_count":{
                                                    "type":"string",
                                                    "description":"specify cpu core count"
                                                 },
                                                 "threads_per_core":{
                                                    "type":"string",
                                                    "description":"specify threads per core"
                                                 }
                                              }
                                           }
                                        }
                                     },
                                     "credit_specification":{
                                        "type":"object",
                                        "description":"Customize the credit specification of the instance",
                                        "additionalProperties":false,
                                        "minProperties":1,
                                        "patternProperties":{
                                           "^[a-zA-Z0-9_.-]*$":{
                                              "type":"object",
                                              "description":"Arbitary name for credit specification",
                                              "properties":{
                                                 "cpu_credits":{
                                                    "type":"string",
                                                    "description":"specify the cpu credits"
                                                 }
                                              }
                                           }
                                        }
                                     },
                                     "schedules":{
                                        "type":"object",
                                        "description":"Map of autoscaling group schedule to create",
                                        "additionalProperties":false,
                                        "minProperties":1,
                                        "patternProperties":{
                                           "^[a-zA-Z0-9_.-]*$":{
                                              "type":"object",
                                              "description":"Arbitary name for the schedules",
                                              "properties":{
                                                 "min_size":{
                                                    "type":"string",
                                                    "description":"specify minimum size"
                                                 },
                                                 "max_size":{
                                                    "type":"string",
                                                    "description":"specify max size"
                                                 },
                                                 "desired_capacity":{
                                                    "type":"string",
                                                    "description":"specify desired capacity"
                                                 },
                                                 "start_time":{
                                                    "type":"string",
                                                    "description":"specify start time"
                                                 },
                                                 "end_time":{
                                                    "type":"string",
                                                    "description":"specify end time"
                                                 },
                                                 "time_zone":{
                                                    "type":"string",
                                                    "description":"specify time zone"
                                                 }
                                              }
                                           }
                                        }
                                     },
                                     "block_device_mappings":{
                                        "type":"object",
                                        "description":"Specify volumes to attach to the instance besides the volumes specified by the AMI",
                                        "additionalProperties":false,
                                        "minProperties":1,
                                        "patternProperties":{
                                           "^[a-zA-Z0-9_.-]*$":{
                                              "type":"object",
                                              "description":"Arbitary name for block device mappings",
                                              "properties":{
                                                 "device_name":{
                                                    "type":"string",
                                                    "description":"specify device name"
                                                 },
                                                 "no_device":{
                                                    "type":"string",
                                                    "description":""
                                                 },
                                                 "virtual_name":{
                                                    "type":"string",
                                                    "description":"specify virtual name"
                                                 },
                                                 "ebs":{
                                                    "type":"object",
                                                    "description":"define ebs",
                                                    "additionalProperties":false,
                                                    "minProperties":1,
                                                    "patternProperties":{
                                                       "^[a-zA-Z0-9_.-]*$":{
                                                          "type":"object",
                                                          "description":"Arbitary name for ebs",
                                                          "properties":{
                                                             "delete_on_termination":{
                                                                "type":"string",
                                                                "description":"specify if delete on termination"
                                                             },
                                                             "encrypted":{
                                                                "type":"string",
                                                                "description":"specify if encrypted"
                                                             },
                                                             "kms_key_id":{
                                                                "type":"string",
                                                                "description":"specify kms key id"
                                                             },
                                                             "iops":{
                                                                "type":"string",
                                                                "description":"specify iops"
                                                             },
                                                             "throughput":{
                                                                "type":"string",
                                                                "description":"specify throughput"
                                                             },
                                                             "snapshot_id":{
                                                                "type":"string",
                                                                "description":"specify snapshot id"
                                                             },
                                                             "volume_size":{
                                                                "type":"string",
                                                                "description":"specify volume size"
                                                             },
                                                             "volume_type":{
                                                                "type":"string",
                                                                "description":"specify volume type"
                                                             }
                                                          }
                                                       }
                                                    }
                                                 }
                                              }
                                           }
                                        }
                                     }
                                  }
                               }
                            }
                         }
                      }
                   },
                   "gcp":{
                      "type":"object",
                      "description":"Map of all gcp advanced keys",
                      "$schema":"http://json-schema.org/draft-04/schema#",
                      "properties":{
                         "iam":{
                            "type":"object",
                            "description":"This is the iam key where all iam permissions are attached for the deployment",
                            "additionalProperties":false,
                            "minProperties":1,
                            "patternProperties":{
                               "^[a-zA-Z0-9_.-]*$":{
                                  "description":"This is the name of the iam object that you are creating, it can be of any name",
                                  "properties":{
                                     "role":{
                                        "type":"string",
                                        "description":"The id of the role that you want to attach to the deployment, you can check out this link on how to create roles in gcp https://cloud.google.com/iam/docs/creating-custom-roles#iam-custom-roles-get-metadata-console"
                                     }
                                  },
                                  "required":[
                                     "role"
                                  ]
                               }
                            }
                         }
                      }
                   },
                   "chart":{
                      "type":"object",
                      "description":"Map of all chart advanced keys",
                      "$schema":"http://json-schema.org/draft-04/schema#",
                      "properties":{
                         "image_pull_secrets":{
                            "type":"object",
                            "description":"Map of all the image pull secrets for the container image to be pulled from the repository. Each map should have name specified within it. For more information refer to: https://kubernetes.io/docs/tasks/configure-pod-container/pull-image-private-registry/#create-a-pod-that-uses-your-secret"
                         },
                         "node_selector":{
                            "type":"object",
                            "description":"Map of all node selectors for the application"
                         }
                      }
                   },
                   "common":{
                      "type":"object",
                      "description":"Map of all the advanced values passed to app-chart",
                      "$schema":"http://json-schema.org/draft-04/schema#",
                      "properties":{
                         "app_chart":{
                            "type":"object",
                            "description":"Map of all advanced values to be configured to app-chart",
                            "properties":{
                               "values":{
                                  "type":"object",
                                  "description":"Values to be passed to app-chart helm chart",
                                  "properties":{
                                     "enable_service_links":{
                                        "type":"boolean",
                                        "description":"Enable service links"
                                     },
                                     "hpa":{
                                        "type":"object",
                                        "description":"Configurations for horizontal pod autoscaler"
                                     },
                                     "pod":{
                                        "type":"object",
                                        "description":"Pod configurations"
                                     },
                                     "node":{
                                        "type":"object",
                                        "description":"Node configurations"
                                     },
                                     "tolerations":{
                                        "type":"object",
                                        "description":"Tolerations to be added to service",
                                        "patternProperties":{
                                           "^[a-zA-Z0-9_.-]*$":{
                                              "properties":{
                                                 "key":{
                                                    "type":"string"
                                                 },
                                                 "value":{
                                                    "type":"string"
                                                 },
                                                 "operator":{
                                                    "type":"string"
                                                 },
                                                 "effect":{
                                                    "type":"string"
                                                 }
                                              }
                                           }
                                        },
                                        "pod_distribution":{
                                           "type":"object",
                                           "description":"Pod topology for distributing pods across nodes",
                                           "patternProperties":{
                                              "^[a-zA-Z0-9_.-]*$":{
                                                 "properties":{
                                                    "max_skew":{
                                                       "type":"string",
                                                       "description":"describes the degree to which Pods may be unevenly distributed. You must specify this field and the number must be greater than zero"
                                                    },
                                                    "when_unsatisfiable":{
                                                       "type":"string",
                                                       "description":"indicates how to deal with a Pod if it doesn't satisfy the spread constraint: DoNotSchedule (default) tells the scheduler not to schedule it. ScheduleAnyway tells the scheduler to still schedule it while prioritizing nodes that minimize the skew",
                                                       "enum":[
                                                          "DoNotSchedule",
                                                          "ScheduleAnyway"
                                                       ]
                                                    },
                                                    "topology_key":{
                                                       "type":"string",
                                                       "description":"is the key of node labels. Nodes that have a label with this key and identical values are considered to be in the same topology. We call each instance of a topology (in other words, a <key, value> pair) a domain. The scheduler will try to put a balanced number of pods into each domain. Also, we define an eligible domain as a domain whose nodes meet the requirements of nodeAffinityPolicy and nodeTaintsPolicy"
                                                    }
                                                 }
                                              }
                                           }
                                        },
                                        "sidecars":{
                                           "type":"object",
                                           "description":"Sidecar containers configurations",
                                           "patternProperties":{
                                              "^[a-zA-Z0-9_.-]*$":{
                                                 "properties":{
                                                    "image":{
                                                       "type":"string",
                                                       "description":"Image of the sidecar container"
                                                    },
                                                    "runtime":{
                                                       "type":"object",
                                                       "properties":{
                                                          "size":{
                                                             "type":"object",
                                                             "description":"Resource request and limits configurations",
                                                             "properties":{
                                                                "cpu":{
                                                                   "type":"string",
                                                                   "description":"cpu request"
                                                                },
                                                                "memory":{
                                                                   "type":"string",
                                                                   "description":"memory request"
                                                                },
                                                                "cpu_limit":{
                                                                   "type":"string",
                                                                   "description":"cpu limit"
                                                                },
                                                                "memory_limit":{
                                                                   "type":"string",
                                                                   "description":"memory limit"
                                                                }
                                                             }
                                                          },
                                                          "volumes":{
                                                             "type":"object",
                                                             "description":"Volumes to be attached to sidecar",
                                                             "properties":{
                                                                "config_maps":{
                                                                   "type":"object",
                                                                   "description":"map of config_maps to attach to sidecar",
                                                                   "patternProperties":{
                                                                      "^[a-zA-Z0-9_.-]*$":{
                                                                         "properties":{
                                                                            "name":{
                                                                               "type":"string",
                                                                               "description":"name of the config map"
                                                                            },
                                                                            "mount_path":{
                                                                               "type":"string",
                                                                               "description":"the mount path for the config map"
                                                                            }
                                                                         }
                                                                      }
                                                                   }
                                                                }
                                                             }
                                                          },
                                                          "command":{
                                                             "type":"array",
                                                             "description":"Commands to run before starting sidecar container"
                                                          },
                                                          "args":{
                                                             "type":"array",
                                                             "description":"arguments to be passed to commands"
                                                          }
                                                       }
                                                    },
                                                    "env":{
                                                       "type":"object",
                                                       "description":"environment variables"
                                                    }
                                                 }
                                              }
                                           }
                                        },
                                        "security_context":{
                                           "type":"object",
                                           "description":"security context for container",
                                           "properties":{
                                              "fsgroup":{
                                                 "type":"string"
                                              },
                                              "run_as_user":{
                                                 "type":"string"
                                              },
                                              "run_as_group":{
                                                 "type":"string"
                                              },
                                              "fs_group_change_policy":{
                                                 "type":"string"
                                              },
                                              "run_as_non_root":{
                                                 "type":"boolean"
                                              },
                                              "linux_options":{
                                                 "type":"object"
                                              },
                                              "comp_profile":{
                                                 "type":"string"
                                              },
                                              "supplemental_groups":{
                                                 "type":"string"
                                              },
                                              "sysctls":{
                                                 "type":"string"
                                              },
                                              "windows_options":{
                                                 "type":"object"
                                              }
                                           }
                                        },
                                        "lifecycle":{
                                           "type":"object",
                                           "description":"",
                                           "properties":{
                                              "preStop":{
                                                 "type":"object",
                                                 "description":"",
                                                 "properties":{
                                                    "exec":{
                                                       "type":"object",
                                                       "description":"",
                                                       "properties":{
                                                          "command":{
                                                             "type":"array",
                                                             "description":"The commands to be executed"
                                                          }
                                                       }
                                                    }
                                                 }
                                              },
                                              "postStart":{
                                                 "type":"object",
                                                 "description":"",
                                                 "properties":{
                                                    "exec":{
                                                       "type":"object",
                                                       "description":"",
                                                       "properties":{
                                                          "command":{
                                                             "type":"array",
                                                             "description":"The commands to be executed"
                                                          }
                                                       }
                                                    }
                                                 }
                                              }
                                           }
                                        }
                                     }
                                  }
                               }
                            }
                         }
                      }
                   }
                },
                "anyOf":[
                   {
                      "allOf":[
                         {
                            "if":{
                               "properties":{
                                  "flavor":{
                                     "enum":[
                                        "aws"
                                     ]
                                  }
                               }
                            },
                            "then":{
                               
                            }
                         },
                         {
                            "not":{
                               "required":[
                                  "gcp"
                               ]
                            }
                         }
                      ]
                   },
                   {
                      "allOf":[
                         {
                            "if":{
                               "properties":{
                                  "flavor":{
                                     "enum":[
                                        "gcp"
                                     ]
                                  }
                               }
                            },
                            "then":{
                               
                            }
                         },
                         {
                            "not":{
                               "required":[
                                  "aws"
                               ]
                            }
                         }
                      ]
                   }
                ]
             }
          }
       },
       {
          "type":"object",
          "properties":{
             "out":{
                "type":"object",
                "properties":{
                   "interfaces":{
                      "type":"object",
                      "additionalProperties":false,
                      "minProperties":1,
                      "description":"The output for your service module, this can be generated or provided",
                      "patternProperties":{
                         "^[a-zA-Z0-9_.-]*$":{
                            "type":"object",
                            "description":"This is the name of the output interface this can be any name depending on the number of prefix domains in the domains block",
                            "allOf":[
                               {
                                  "$schema":"http://json-schema.org/draft-07/schema#",
                                  "type":"object",
                                  "required":[
                                     "host",
                                     "port",
                                     "connection_string"
                                  ],
                                  "properties":{
                                     "host":{
                                        "type":"string",
                                        "description":"The hostname or IP address of the database or cache server."
                                     },
                                     "port":{
                                        "type":"integer",
                                        "description":"The port number to use for connecting to the database or cache server.",
                                        "minimum":1,
                                        "maximum":65535
                                     },
                                     "username":{
                                        "type":"string",
                                        "description":"The username to use for authentication when connecting to the database or cache server."
                                     },
                                     "password":{
                                        "type":"string",
                                        "description":"The password to use for authentication when connecting to the database or cache server."
                                     },
                                     "connection_string":{
                                        "type":"string",
                                        "description":"The connection_string to use when connecting to the datastore."
                                     }
                                  }
                               },
                               {
                                  "type":"object",
                                  "properties":{
                                     "name":{
                                        "type":"string",
                                        "description":"The name of the service which we want to reference"
                                     }
                                  }
                               }
                            ]
                         }
                      }
                   }
                }
             }
          }
       },
       {
          "type":"object",
          "properties":{
             "kind":{
                "type":"string",
                "description":"Describes the type of resource. e.g. ingress, application, mysql etc. If not specified, fallback is the `folder_name`/instances",
                "enum":[
                   "service"
                ]
             },
             "flavor":{
                "type":"string",
                "description":"Implementation selector for the resource. e.g. for a resource type ingress, default, aws_alb, gcp_alb etc.",
                "enum":[
                   "default",
                   "k8s"
                ]
             },
             "version":{
                "type":"string",
                "description":"This field can be used to pin to a particular version",
                "enum":[
                   "0.1",
                   "latest"
                ]
             }
          }
       }
    ],
    "$defs":{
       "specDef":{
          "type":"object",
          "properties":{
             "spec":{
                "type":"object",
                "properties":{
                   "release":{
                      "description":"Map of all release keys",
                      "$schema":"http://json-schema.org/draft-04/schema#",
                      "type":"object",
                      "properties":{
                         "image":{
                            "type":"string",
                            "description":"The docker image of the application that you want to run"
                         },
                         "build":{
                            "type":"object",
                            "description":"These contains the build objects required for running the containers",
                            "properties":{
                               "artifactory":{
                                  "type":"string",
                                  "description":"Parent artifactory name"
                               },
                               "name":{
                                  "type":"string",
                                  "description":"Name of the artifactory"
                               },
                               "pull_policy":{
                                  "type":"string",
                                  "description":"ImagePullPolicy",
                                  "enum":[
                                     "IfNotPresent",
                                     "Always",
                                     "Never"
                                  ]
                               }
                            },
                            "required":[
                               "artifactory",
                               "name"
                            ]
                         },
                         "strategy":{
                            "type":"object",
                            "description":"The type of upgrade strategy to be followed by this service",
                            "properties":{
                               "type":{
                                  "type":"string",
                                  "description":"Your kubernetes rollout type eg: RollingUpdate or Recreate",
                                  "enum":[
                                     "RollingUpdate",
                                     "Recreate"
                                  ]
                               },
                               "max_available":{
                                  "type":"string",
                                  "description":"If type RollingUpdate , this is the max number of pods that can be created from the default replicas"
                               },
                               "max_unavailable":{
                                  "type":"string",
                                  "description":"If type RollingUpdate , this is the max number of pods that can be unavailable from the default replicas"
                               }
                            },
                            "allOf":[
                               {
                                  "if":{
                                     "properties":{
                                        "type":{
                                           "enum":[
                                              "RollingUpdate"
                                           ]
                                        }
                                     }
                                  },
                                  "then":{
                                     "required":[
                                        "type"
                                     ]
                                  }
                               },
                               {
                                  "if":{
                                     "properties":{
                                        "type":{
                                           "enum":[
                                              "Recreate"
                                           ]
                                        }
                                     }
                                  },
                                  "then":{
                                     "required":[
                                        "type"
                                     ]
                                  }
                               }
                            ]
                         },
                         "disruption_policy":{
                            "type":"object",
                            "description":"The disruption policy for the service",
                            "properties":{
                               "min_available":{
                                  "type":"string",
                                  "description":"This is the min number of pods should be available in case of failures"
                               },
                               "max_unavailable":{
                                  "type":"string",
                                  "description":"This is the max number of pods that can be unavailable during a failure."
                               }
                            }
                         }
                      },
                      "oneOf":[
                         {
                            "if":{
                               "properties":{
                                  "build":{
                                     
                                  }
                               }
                            },
                            "then":{
                               "required":[
                                  "build"
                               ]
                            }
                         },
                         {
                            "if":{
                               "properties":{
                                  "image":{
                                     
                                  }
                               }
                            },
                            "then":{
                               "required":[
                                  "image"
                               ]
                            }
                         }
                      ],
                      "allOf":[
                         {
                            "if":{
                               "properties":{
                                  "type":{
                                     "enum":[
                                        "application",
                                        "statefulset"
                                     ]
                                  }
                               }
                            },
                            "then":{
                               "required":[
                                  "strategy"
                               ]
                            }
                         }
                      ]
                   },
                   "type":{
                      "type":"string",
                      "description":"This will specify the type of service you want to create. eg: application, statefulset,cronjob etc",
                      "enum":[
                         "application",
                         "statefulset",
                         "cronjob",
                         "job"
                      ]
                   },
                   "enable_host_anti_affinity":{
                      "type":"boolean",
                      "description":"boolean to enable or disable host anti affinity"
                   },
                   "env":{
                      "type":"object",
                      "description":"The key value pairs of all the environment variables that needs to be passed to the pod"
                   },
                   "runtime":{
                      "description":"Map of all runtime keys",
                      "$schema":"http://json-schema.org/draft-04/schema#",
                      "type":"object",
                      "properties":{
                         "command":{
                            "type":"array",
                            "description":"The list of commands you want to perform before starting the container"
                         },
                         "args":{
                            "type":"array",
                            "description":"The list of arguments you want to pass for the above mentioned command"
                         },
                         "ports":{
                            "description":"Maps of all the ports that you want to expose in the service",
                            "$schema":"http://json-schema.org/draft-04/schema#",
                            "type":"object",
                            "additionalProperties":false,
                            "minProperties":1,
                            "patternProperties":{
                               "^[a-zA-Z0-9_.-]*$":{
                                  "description":"This is the name of the port that you have to specify",
                                  "properties":{
                                     "protocol":{
                                        "type":"string",
                                        "description":"the protocol of the port , either tcp or udp",
                                        "enum":[
                                           "tcp",
                                           "udp"
                                        ]
                                     },
                                     "port":{
                                        "type":"string",
                                        "description":"the port number where the pod is exposed"
                                     },
                                     "service_port":{
                                        "type":"string",
                                        "description":"the port number where the service is exposed, this is optional"
                                     }
                                  },
                                  "required":[
                                     "protocol",
                                     "port"
                                  ]
                               }
                            }
                         },
                         "metrics":{
                            "description":"Maps of all the metrics port that you want to expose to prometheus",
                            "$schema":"http://json-schema.org/draft-04/schema#",
                            "type":"object",
                            "additionalProperties":false,
                            "minProperties":1,
                            "patternProperties":{
                               "^[a-zA-Z0-9_.-]*$":{
                                  "description":"This is the name of the metrics, this can be any name",
                                  "properties":{
                                     "path":{
                                        "type":"string",
                                        "description":"the path where the service monitor should scrape metrics"
                                     },
                                     "port_name":{
                                        "type":"string",
                                        "description":"name of the service monitor"
                                     }
                                  },
                                  "required":[
                                     "path",
                                     "port_name"
                                  ]
                               }
                            }
                         },
                         "size":{
                            "description":"Size of the deployment pods",
                            "$schema":"http://json-schema.org/draft-07/schema#",
                            "type":"object",
                            "required":[
                               "cpu",
                               "memory"
                            ],
                            "properties":{
                               "cpu":{
                                  "type":"string",
                                  "description":"The number of CPU cores required, e.g '1' or '1000m'",
                                  "minLength":1,
                                  "pattern":"^[0-9]+[m]?$",
                                  "examples":[
                                     "1",
                                     "1000m"
                                  ]
                               },
                               "memory":{
                                  "type":"string",
                                  "description":"The amount of memory required, e.g '800Mi' or '1.5Gi'",
                                  "minLength":1,
                                  "pattern":"^[0-9]+(\\.[0-9]+)?[EiKMGTP]i?",
                                  "examples":[
                                     "800Mi",
                                     "1.5Gi"
                                  ]
                               },
                               "cpu_limit":{
                                  "type":"string",
                                  "description":"The CPU limit to set a maximum limit on the amount of CPU resources utilization, e.g '1' or '1000m'",
                                  "minLength":1,
                                  "pattern":"^[0-9]+[m]?$",
                                  "examples":[
                                     "1",
                                     "1000m"
                                  ]
                               },
                               "memory_limit":{
                                  "type":"string",
                                  "description":"The memory limit to set a maximum limit on the amount of memory resources utilization, e.g '800Mi' or '1.5Gi'",
                                  "minLength":1,
                                  "pattern":"^[0-9]+(\\.[0-9]+)?[EiKMGTP]i?",
                                  "examples":[
                                     "800Mi",
                                     "1.5Gi"
                                  ]
                               }
                            }
                         },
                         "volumes":{
                            "type":"object",
                            "description":"All the volumes you want to attach to the service",
                            "properties":{
                               "config_maps":{
                                  "type":"object",
                                  "description":"The map of all the config maps that you want to mount",
                                  "additionalProperties":false,
                                  "minProperties":1,
                                  "patternProperties":{
                                     "^[a-zA-Z0-9_.-]*$":{
                                        "properties":{
                                           "name":{
                                              "type":"string",
                                              "description":"The name of the config map that has been created in the kubernetes cluster"
                                           },
                                           "mount_path":{
                                              "type":"string",
                                              "description":"The mount path for the config map"
                                           }
                                        }
                                     }
                                  }
                               },
                               "secrets":{
                                  "type":"object",
                                  "description":"The map of all the secrets that you want to mount",
                                  "additionalProperties":false,
                                  "minProperties":1,
                                  "patternProperties":{
                                     "^[a-zA-Z0-9_.-]*$":{
                                        "properties":{
                                           "name":{
                                              "type":"string",
                                              "description":"The name of the secret that has been created in the kubernetes cluster"
                                           },
                                           "mount_path":{
                                              "type":"string",
                                              "description":"The mount path for the secrets"
                                           }
                                        }
                                     }
                                  }
                               },
                               "pvc":{
                                  "type":"object",
                                  "description":"The map of all the pvcs that you want to mount",
                                  "additionalProperties":false,
                                  "minProperties":1,
                                  "patternProperties":{
                                     "^[a-zA-Z0-9_.-]*$":{
                                        "properties":{
                                           "claim_name":{
                                              "type":"string",
                                              "description":"The name of the pvc that has been created in the kubernetes cluster"
                                           },
                                           "mount_path":{
                                              "type":"string",
                                              "description":"The mount path for the pvc"
                                           }
                                        }
                                     }
                                  }
                               },
                               "host_path":{
                                  "type":"object",
                                  "description":"The map of all the secrets that you want to mount",
                                  "additionalProperties":false,
                                  "minProperties":1,
                                  "patternProperties":{
                                     "^[a-zA-Z0-9_.-]*$":{
                                        "properties":{
                                           "mount_path":{
                                              "type":"string",
                                              "description":"The mount path for the host path"
                                           }
                                        }
                                     }
                                  }
                               }
                            }
                         },
                         "health_checks":{
                            "type":"object",
                            "description":"All the health check related key value pairs",
                            "properties":{
                               "start_up_time":{
                                  "type":"string",
                                  "description":"The time kubernetes api needs to wait until the application is ready"
                               },
                               "liveness_start_up_time":{
                                  "type":"string",
                                  "description":"The time kubernetes api needs to wait until the application is ready for liveness check, this is takes precedence from start_up_time"
                               },
                               "readiness_start_up_time":{
                                  "type":"string",
                                  "description":"The time kubernetes api needs to wait until the application is ready for readiness check, this is takes precedence from start_up_time"
                               },
                               "timeout":{
                                  "type":"string",
                                  "description":"Timeout for the health check"
                               },
                               "liveness_timeout":{
                                  "type":"string",
                                  "description":"Timeout for the health check liveness, this is takes precedence from timeout"
                               },
                               "readiness_timeout":{
                                  "type":"string",
                                  "description":"Timeout for the health check readiness, this is takes precedence from timeout"
                               },
                               "period":{
                                  "type":"string",
                                  "description":"This is the repeated interval in which kubelet does a health check"
                               },
                               "liveness_period":{
                                  "type":"string",
                                  "description":"This is the repeated interval in which kubelet does a health check, this is takes precedence from period"
                               },
                               "readiness_period":{
                                  "type":"string",
                                  "description":"This is the repeated interval in which kubelet does a health check, this is takes precedence from period"
                               },
                               "port":{
                                  "type":"string",
                                  "description":"Specify the port in which the health checks should be made"
                               },
                               "liveness_port":{
                                  "type":"string",
                                  "description":"Specify the port in which the health checks should be made, this is takes precedence from port"
                               },
                               "readiness_port":{
                                  "type":"string",
                                  "description":"Specify the port in which the health checks should be made, this is takes precedence from port"
                               },
                               "liveness_url":{
                                  "type":"string",
                                  "description":"URL to make the liveness check"
                               },
                               "readiness_url":{
                                  "type":"string",
                                  "description":"URL to make the readiness check"
                               },
                               "liveness_exec_command":{
                                  "type":"array",
                                  "description":"The list of commands to make liveness check "
                               },
                               "readiness_exec_command":{
                                  "type":"array",
                                  "description":"The list of commands to make readiness check"
                               }
                            },
                            "allOf":[
                               {
                                  "if":{
                                     "not":{
                                        "allOf":[
                                           {
                                              "required":[
                                                 "liveness_start_up_time"
                                              ]
                                           },
                                           {
                                              "required":[
                                                 "readiness_start_up_time"
                                              ]
                                           }
                                        ]
                                     }
                                  },
                                  "then":{
                                     "required":[
                                        "start_up_time"
                                     ]
                                  }
                               },
                               {
                                  "if":{
                                     "not":{
                                        "allOf":[
                                           {
                                              "required":[
                                                 "liveness_timeout"
                                              ]
                                           },
                                           {
                                              "required":[
                                                 "readiness_timeout"
                                              ]
                                           }
                                        ]
                                     }
                                  },
                                  "then":{
                                     "required":[
                                        "timeout"
                                     ]
                                  }
                               },
                               {
                                  "if":{
                                     "not":{
                                        "allOf":[
                                           {
                                              "required":[
                                                 "liveness_port"
                                              ]
                                           },
                                           {
                                              "required":[
                                                 "readiness_port"
                                              ]
                                           }
                                        ]
                                     }
                                  },
                                  "then":{
                                     "required":[
                                        "port"
                                     ]
                                  }
                               },
                               {
                                  "if":{
                                     "not":{
                                        "allOf":[
                                           {
                                              "required":[
                                                 "liveness_period"
                                              ]
                                           },
                                           {
                                              "required":[
                                                 "readiness_period"
                                              ]
                                           }
                                        ]
                                     }
                                  },
                                  "then":{
                                     "required":[
                                        "period"
                                     ]
                                  }
                               }
                            ]
                         },
                         "autoscaling":{
                            "type":"object",
                            "properties":{
                               "min":{
                                  "type":"string",
                                  "description":"This is the min replicas where the hpa downscales to"
                               },
                               "max":{
                                  "type":"string",
                                  "description":"This is the max replicas where the hpa upscales to "
                               },
                               "cpu_threshold":{
                                  "type":"string",
                                  "description":"The max cpu threshold that the hpa waits until it upscales"
                               },
                               "ram_threshold":{
                                  "type":"string",
                                  "description":"The max ram threshold that the hpa waits until it upscales"
                               },
                               "packets_per_second":{
                                  "type":"string",
                                  "description":"The max number of packets that can be sent to the pod, once exceeded it autoscales. eg: 10k"
                               },
                               "requests_per_second":{
                                  "type":"object",
                                  "description":"Requests per second RPS object keys",
                                  "properties":{
                                     "threshold":{
                                        "type":"string",
                                        "description":"The rps threshold that hpa looks for , once exceeds it autoscales eg: 10k"
                                     },
                                     "ingress_name":{
                                        "type":"string",
                                        "description":"Name of the ingress object that the hpa should watch for autoscaling"
                                     }
                                  },
                                  "required":[
                                     "threshold",
                                     "ingress_name"
                                  ]
                               }
                            },
                            "oneOf":[
                               {
                                  "if":{
                                     "properties":{
                                        "cpu_threshold":{
                                           
                                        }
                                     }
                                  },
                                  "then":{
                                     "required":[
                                        "cpu_threshold",
                                        "min",
                                        "max"
                                     ]
                                  }
                               },
                               {
                                  "if":{
                                     "properties":{
                                        "ram_threshold":{
                                           
                                        }
                                     }
                                  },
                                  "then":{
                                     "required":[
                                        "ram_threshold",
                                        "min",
                                        "max"
                                     ]
                                  }
                               }
                            ]
                         }
                      },
                      "required":[
                         "ports",
                         "size",
                         "health_checks"
                      ]
                   },
                   "restart_policy":{
                      "type":"string",
                      "description":"Can be of type Always , OnFailure or Never",
                      "enum":[
                         "Always",
                         "OnFailure",
                         "Never"
                      ]
                   }
                },
                "required":[
                   "release",
                   "type",
                   "enable_host_anti_affinity",
                   "runtime",
                   "env"
                ],
                "allOf":[
                   {
                      "if":{
                         "properties":{
                            "type":{
                               "enum":[
                                  "application"
                               ]
                            }
                         }
                      },
                      "then":{
                         "$schema":"http://json-schema.org/draft-04/schema#",
                         "type":"object",
                         "properties":{
                            "type":{
                               "type":"string",
                               "default":"application"
                            }
                         },
                         "required":[
                            "type"
                         ]
                      }
                   },
                   {
                      "if":{
                         "properties":{
                            "type":{
                               "enum":[
                                  "statefulset"
                               ]
                            }
                         }
                      },
                      "then":{
                         "$schema":"http://json-schema.org/draft-04/schema#",
                         "type":"object",
                         "properties":{
                            "type":{
                               "type":"string",
                               "default":"statefulset"
                            },
                            "persistent_volume_claims":{
                               "description":"these are the maps of pvc that you will create and mount to your statefulset",
                               "$schema":"http://json-schema.org/draft-04/schema#",
                               "type":"object",
                               "additionalProperties":false,
                               "minProperties":1,
                               "patternProperties":{
                                  "^[a-zA-Z0-9_.-]*$":{
                                     "description":"This key is the name of the claim that you want to create, this can be any name",
                                     "properties":{
                                        "access_mode":{
                                           "type":"string",
                                           "description":"This will define the read and write access of the the pvc , this can be of type ReadWriteOnce or ReadWriteMany"
                                        },
                                        "storage_size":{
                                           "type":"string",
                                           "description":"The storage size of the pvc , it should be specified like `10Gi` "
                                        },
                                        "path":{
                                           "type":"string",
                                           "description":"The path where you want to mount the pvc"
                                        }
                                     },
                                     "required":[
                                        "access_mode",
                                        "storage_size",
                                        "path"
                                     ]
                                  }
                               }
                            }
                         },
                         "required":[
                            "persistent_volume_claims",
                            "type"
                         ]
                      }
                   },
                   {
                      "if":{
                         "properties":{
                            "type":{
                               "enum":[
                                  "cronjob"
                               ]
                            }
                         }
                      },
                      "then":{
                         "$schema":"http://json-schema.org/draft-04/schema#",
                         "type":"object",
                         "properties":{
                            "type":{
                               "type":"string",
                               "default":"cronjob"
                            },
                            "cronjob":{
                               "type":"object",
                               "properties":{
                                  "schedule":{
                                     "type":"string",
                                     "description":"This is the cron scheduler that you have to specify in cron format"
                                  },
                                  "suspend":{
                                     "type":"boolean",
                                     "description":"It will suspend all executions"
                                  },
                                  "concurreny_policy":{
                                     "type":"string",
                                     "description":"Specifies how to treat concurrent executions of a job that is created by this cron job.",
                                     "enum":[
                                        "Allow",
                                        "Forbid",
                                        "Replace"
                                     ]
                                  }
                               },
                               "required":[
                                  "schedule",
                                  "suspend",
                                  "concurreny_policy"
                               ]
                            },
                            "job":{
                               "type":"object",
                               "properties":{
                                  "retry":{
                                     "type":"string",
                                     "description":"the number of time you want to retry the job before calling it a failure"
                                  }
                               },
                               "required":[
                                  "retry"
                               ]
                            }
                         },
                         "required":[
                            "job",
                            "cronjob",
                            "type"
                         ]
                      }
                   },
                   {
                      "if":{
                         "properties":{
                            "type":{
                               "enum":[
                                  "job"
                               ]
                            }
                         }
                      },
                      "then":{
                         "$schema":"http://json-schema.org/draft-04/schema#",
                         "type":"object",
                         "properties":{
                            "type":{
                               "type":"string",
                               "default":"job"
                            },
                            "job":{
                               "type":"object",
                               "properties":{
                                  "retry":{
                                     "type":"string",
                                     "description":"the number of time you want to retry the job before calling it a failure"
                                  }
                               },
                               "required":[
                                  "retry"
                               ]
                            }
                         },
                         "required":[
                            "job",
                            "type"
                         ]
                      }
                   }
                ]
             },
             "advanced":{
                "type":"object",
                "description":"Advanced section of kind service",
                "properties":{
                   "aws":{
                      "type":"object",
                      "description":"Map of all aws advanced keys",
                      "$schema":"http://json-schema.org/draft-04/schema#",
                      "properties":{
                         "iam":{
                            "type":"object",
                            "description":"This is the iam key where all iam permissions are attached for the deployment",
                            "additionalProperties":false,
                            "minProperties":1,
                            "patternProperties":{
                               "^[a-zA-Z0-9_.-]*$":{
                                  "description":"This is the name of the iam object that you are creating, it can be of any name",
                                  "properties":{
                                     "arn":{
                                        "type":"string",
                                        "definition":"The arn of the policy that you want to create a role and attach it to the deployment"
                                     }
                                  },
                                  "required":[
                                     "arn"
                                  ]
                               }
                            }
                         },
                         "vm":{
                            "type":"object",
                            "description":"This is the advanced block where we define vm implementation for aws",
                            "properties":{
                               "is_vm_image":{
                                  "type":"boolean",
                                  "description":"Boolean value to specify if the artifact is vm ami or not"
                               },
                               "vm_image_id":{
                                  "type":"string",
                                  "description":"Image id of the vm"
                               },
                               "is_public":{
                                  "type":"boolean",
                                  "description":"specify if the vm is public"
                               },
                               "security_group":{
                                  "type":"object",
                                  "description":"Define securrity groups for the vm",
                                  "properties":{
                                     "additional_ingress_with_cidr_blocks":{
                                        "type":"object",
                                        "description":"List of ingress rules to create where 'cidr_blocks' is used",
                                        "additionalProperties":false,
                                        "minProperties":1,
                                        "patternProperties":{
                                           "^[a-zA-Z0-9_.-]*$":{
                                              "type":"object",
                                              "description":"Define a name for the security group that you want to create",
                                              "properties":{
                                                 "from_port":{
                                                    "type":"string",
                                                    "description":"Define the port that you want to allow traffic from"
                                                 },
                                                 "to_port":{
                                                    "type":"string",
                                                    "description":"Define the port that you want to allow traffic to"
                                                 },
                                                 "protocol":{
                                                    "type":"string",
                                                    "description":"Define the protocol that you want the traffic to follow"
                                                 },
                                                 "cidr_blocks":{
                                                    "type":"string",
                                                    "description":"Define the cidr range that you want to allow the traffic from"
                                                 }
                                              }
                                           }
                                        }
                                     },
                                     "additional_ingress_cidr_blocks":{
                                        "type":"object",
                                        "description":"List of IPv4 CIDR ranges to use on all ingress rules",
                                        "additionalProperties":false,
                                        "minProperties":1,
                                        "patternProperties":{
                                           "^[a-zA-Z0-9_.-]*$":{
                                              "type":"string",
                                              "description":"Define the IPv4 CIDR ranges to use on all ingress rules"
                                           }
                                        }
                                     },
                                     "tags":{
                                        "type":"object",
                                        "description":"Tags you want to add to the security group",
                                        "properties":{
                                           "Name":{
                                              "type":"string",
                                              "description":"A mapping of tags to assign to security group"
                                           }
                                        }
                                     }
                                  }
                               },
                               "alb":{
                                  "type":"object",
                                  "description":"Define the status of alb",
                                  "properties":{
                                     "enabled":{
                                        "type":"boolean",
                                        "description":"Controls if the Load Balancer should be created"
                                     },
                                     "internal":{
                                        "type":"boolean",
                                        "description":"Boolean determining if the load balancer is internal or externally facing"
                                     },
                                     "additional_http_tcp_listeners":{
                                        "type":"object",
                                        "description":"Additional http tcp listeners that you want to add to the loadbalancer",
                                        "additionalProperties":false,
                                        "minProperties":1,
                                        "patternProperties":{
                                           "^[a-zA-Z0-9_.-]*$":{
                                              "type":"object",
                                              "description":"Define an arbitary name for the listener",
                                              "properties":{
                                                 "port":{
                                                    "description":"port you want to map",
                                                    "type":"string"
                                                 },
                                                 "protocol":{
                                                    "description":"Protocol to be used",
                                                    "type":"string"
                                                 },
                                                 "default_action":{
                                                    "type":"object",
                                                    "description":"Define the default action",
                                                    "additionalProperties":false,
                                                    "minProperties":1,
                                                    "patternProperties":{
                                                       "^[a-zA-Z0-9_.-]*$":{
                                                          "type":"object",
                                                          "description":"Arbitary name for the default action",
                                                          "properties":{
                                                             "action_type":{
                                                                "type":"string",
                                                                "description":"specify the action type"
                                                             },
                                                             "target_group_index":{
                                                                "type":"string",
                                                                "description":"specify the target group index"
                                                             },
                                                             "redirect":{
                                                                "type":"object",
                                                                "description":"Define the options to redirect",
                                                                "additionalProperties":false,
                                                                "minProperties":1,
                                                                "patternProperties":{
                                                                   "^[a-zA-Z0-9_.-]*$":{
                                                                      "type":"object",
                                                                      "description":"Arbitary name for the redirect options",
                                                                      "properties":{
                                                                         "path":{
                                                                            "type":"string",
                                                                            "description":"specify path"
                                                                         },
                                                                         "host":{
                                                                            "type":"string",
                                                                            "description":"specify host"
                                                                         },
                                                                         "port":{
                                                                            "type":"string",
                                                                            "description":"specify port"
                                                                         },
                                                                         "protocol":{
                                                                            "type":"string",
                                                                            "description":"specify protocol"
                                                                         },
                                                                         "query":{
                                                                            "type":"string",
                                                                            "description":"specify query"
                                                                         },
                                                                         "status_code":{
                                                                            "type":"string",
                                                                            "description":"specify status code"
                                                                         }
                                                                      }
                                                                   }
                                                                }
                                                             },
                                                             "fixed_response":{
                                                                "type":"object",
                                                                "description":"Define fixed response",
                                                                "additionalProperties":false,
                                                                "minProperties":1,
                                                                "patternProperties":{
                                                                   "^[a-zA-Z0-9_.-]*$":{
                                                                      "type":"object",
                                                                      "description":"Arbitary name for the fixed response",
                                                                      "properties":{
                                                                         "content_type":{
                                                                            "type":"string",
                                                                            "description":"specify content type"
                                                                         },
                                                                         "message_body":{
                                                                            "type":"string",
                                                                            "description":"specify message body"
                                                                         },
                                                                         "status_code":{
                                                                            "type":"string",
                                                                            "description":"specify status_code"
                                                                         }
                                                                      }
                                                                   }
                                                                }
                                                             },
                                                             "tags":{
                                                                "type":"object",
                                                                "description":"Tags you want to add to the additional target groups",
                                                                "properties":{
                                                                   "Name":{
                                                                      "type":"string",
                                                                      "description":"A mapping of tags to assign to additional target groups"
                                                                   }
                                                                }
                                                             }
                                                          }
                                                       }
                                                    }
                                                 }
                                              },
                                              "required":[
                                                 "port",
                                                 "protocol"
                                              ]
                                           }
                                        }
                                     },
                                     "additional_subnets":{
                                        "type":"object",
                                        "description":"Define additional subnets to attach",
                                        "additionalProperties":false,
                                        "minProperties":1,
                                        "patternProperties":{
                                           "^[a-zA-Z0-9_.-]*$":{
                                              "type":"string",
                                              "description":"A list of subnets to associate with the load balancer. e.g. ['subnet-1a2b3c4d','subnet-1a2b3c4e','subnet-1a2b3c4f']"
                                           }
                                        }
                                     },
                                     "additional_target_groups":{
                                        "type":"object",
                                        "description":"A list of maps containing key/value pairs that define the target groups to be created. Order of these maps is important and the index of these are to be referenced in listener definitions. Required key/values: name, backend_protocol, backend_port",
                                        "additionalProperties":false,
                                        "minProperties":1,
                                        "patternProperties":{
                                           "^[a-zA-Z0-9_.-]*$":{
                                              "type":"object",
                                              "description":"Arbitary name for the additional target groups",
                                              "properties":{
                                                 "name":{
                                                    "type":"string",
                                                    "description":"specify name"
                                                 },
                                                 "name_prefix":{
                                                    "type":"string",
                                                    "description":"specify name prefix"
                                                 },
                                                 "vpc_id":{
                                                    "type":"string",
                                                    "description":"specify vpc id"
                                                 },
                                                 "backend_port":{
                                                    "type":"string",
                                                    "description":"specify backend port"
                                                 },
                                                 "backend_protocol":{
                                                    "type":"string",
                                                    "description":"specify backend protocol"
                                                 },
                                                 "protocol_version":{
                                                    "type":"string",
                                                    "description":"specify protocol version"
                                                 },
                                                 "target_type":{
                                                    "type":"string",
                                                    "description":"specify target type"
                                                 },
                                                 "deregistration_delay":{
                                                    "type":"string",
                                                    "description":"specify deregistration delay"
                                                 },
                                                 "slow_start":{
                                                    "type":"string",
                                                    "description":"specify slow start"
                                                 },
                                                 "proxy_protocol_v2":{
                                                    "type":"string",
                                                    "description":"specify proxy protocol v2"
                                                 },
                                                 "lambda_multi_value_headers_enabled":{
                                                    "type":"string",
                                                    "description":"specify lambda multi value headers enabled"
                                                 },
                                                 "load_balancing_algorithm_type":{
                                                    "type":"string",
                                                    "description":"specify load balancing algorithm type"
                                                 },
                                                 "preserve_client_ip":{
                                                    "type":"string",
                                                    "description":"specify preserve_client_ip"
                                                 },
                                                 "health_check":{
                                                    "type":"object",
                                                    "description":"Define health check",
                                                    "additionalProperties":false,
                                                    "minProperties":1,
                                                    "patternProperties":{
                                                       "^[a-zA-Z0-9_.-]*$":{
                                                          "type":"object",
                                                          "description":"Arbitary name for health check",
                                                          "properties":{
                                                             "enabled":{
                                                                "type":"string",
                                                                "description":"specify if enabled"
                                                             },
                                                             "interval":{
                                                                "type":"string",
                                                                "description":"Specify interval"
                                                             },
                                                             "path":{
                                                                "type":"string",
                                                                "description":"specify path"
                                                             },
                                                             "port":{
                                                                "type":"string",
                                                                "description":"specify port"
                                                             },
                                                             "healthy_threshold":{
                                                                "type":"string",
                                                                "description":"specify healthy threshold"
                                                             },
                                                             "unhealthy_threshold":{
                                                                "type":"string",
                                                                "description":"specify unhealthy threshold"
                                                             },
                                                             "timeout":{
                                                                "type":"string",
                                                                "description":"specify timeout"
                                                             },
                                                             "protocol":{
                                                                "type":"string",
                                                                "description":"specify protocol"
                                                             },
                                                             "matcher":{
                                                                "type":"string",
                                                                "description":"specify matcher"
                                                             }
                                                          }
                                                       }
                                                    }
                                                 },
                                                 "stickiness":{
                                                    "type":"object",
                                                    "description":"define stickiness",
                                                    "additionalProperties":false,
                                                    "minProperties":1,
                                                    "patternProperties":{
                                                       "^[a-zA-Z0-9_.-]*$":{
                                                          "type":"object",
                                                          "description":"Arbitary name for stickiness",
                                                          "properties":{
                                                             "enabled":{
                                                                "type":"string",
                                                                "description":"specify if enabled"
                                                             },
                                                             "cookie_duration":{
                                                                "type":"string",
                                                                "description":"specify cookie duration"
                                                             },
                                                             "type":{
                                                                "type":"string",
                                                                "description":"specify type"
                                                             },
                                                             "cookie_name":{
                                                                "type":"string",
                                                                "description":"specify cookie name"
                                                             }
                                                          }
                                                       }
                                                    }
                                                 },
                                                 "tags":{
                                                    "type":"object",
                                                    "description":"Tags you want to add to the additional target groups",
                                                    "properties":{
                                                       "Name":{
                                                          "type":"string",
                                                          "description":"A mapping of tags to assign to additional target groups"
                                                       }
                                                    }
                                                 }
                                              }
                                           }
                                        }
                                     },
                                     "target_group_arns":{
                                        "type":"object",
                                        "description":"Define your target group arn's",
                                        "additionalProperties":false,
                                        "minProperties":1,
                                        "patternProperties":{
                                           "^[a-zA-Z0-9_.-]*$":{
                                              "type":"string",
                                              "description":"Arbitary name for the target group arn's"
                                           }
                                        }
                                     },
                                     "tags":{
                                        "type":"object",
                                        "description":"Tags you want to add to the security group",
                                        "properties":{
                                           "Name":{
                                              "type":"string",
                                              "description":"A map of tags to add to all resources"
                                           }
                                        }
                                     }
                                  }
                               },
                               "autoscaling_group":{
                                  "type":"object",
                                  "description":"Define autoscaling group for the vm's",
                                  "properties":{
                                     "use_mixed_instances_policy":{
                                        "type":"boolean",
                                        "description":"Specify if you want to use use mixed instances policy"
                                     },
                                     "maintenance_options":{
                                        "type":"string",
                                        "description":"Define maintenance options"
                                     },
                                     "mixed_instances_policy":{
                                        "type":"object",
                                        "description":"Configuration block containing settings to define launch targets for Auto Scaling groups",
                                        "additionalProperties":false,
                                        "minProperties":1,
                                        "patternProperties":{
                                           "^[a-zA-Z0-9_.-]*$":{
                                              "type":"object",
                                              "description":"Arbitary name for the mixed instances policy",
                                              "properties":{
                                                 "instances_distribution":{
                                                    "type":"object",
                                                    "description":"specify the details of instances distribution",
                                                    "additionalProperties":false,
                                                    "minProperties":1,
                                                    "patternProperties":{
                                                       "^[a-zA-Z0-9_.-]*$":{
                                                          "type":"object",
                                                          "description":"arbitary name for the instance distribution",
                                                          "properties":{
                                                             "on_demand_allocation_strategy":{
                                                                "type":"string",
                                                                "description":"specify on demand allocation strategy "
                                                             },
                                                             "on_demand_base_capacity":{
                                                                "type":"string",
                                                                "description":"specify the on demand base capacity"
                                                             },
                                                             "on_demand_percentage_above_base_capacity":{
                                                                "type":"string",
                                                                "description":"specify on demand percentage above base capacity"
                                                             },
                                                             "spot_allocation_strategy":{
                                                                "type":"string",
                                                                "description":"specify spot allocation strategy"
                                                             },
                                                             "spot_instance_pools":{
                                                                "type":"string",
                                                                "description":"specify spot instance pools"
                                                             },
                                                             "spot_max_price":{
                                                                "type":"string",
                                                                "description":"specify spot max price"
                                                             }
                                                          }
                                                       }
                                                    }
                                                 },
                                                 "overrides":{
                                                    "type":"object",
                                                    "description":"Specify your overrides for the instances",
                                                    "additionalProperties":false,
                                                    "minProperties":1,
                                                    "patternProperties":{
                                                       "^[a-zA-Z0-9_.-]*$":{
                                                          "type":"object",
                                                          "description":"arbitary name for the overrides that you want to make",
                                                          "properties":{
                                                             "instance_type":{
                                                                "type":"string",
                                                                "description":"Specify the type of instance"
                                                             },
                                                             "weighted_capacity":{
                                                                "type":"string",
                                                                "description":"Specify the weighted capacity that you want for the instance type"
                                                             },
                                                             "launch_template_specification":{
                                                                "type":"object",
                                                                "description":"define launch template specification",
                                                                "additionalProperties":false,
                                                                "minProperties":1,
                                                                "patternProperties":{
                                                                   "^[a-zA-Z0-9_.-]*$":{
                                                                      "type":"object",
                                                                      "description":"Arbitary name for the launch template specification",
                                                                      "properties":{
                                                                         "launch_template_id":{
                                                                            "type":"string",
                                                                            "description":"specify the launch template id"
                                                                         }
                                                                      }
                                                                   }
                                                                }
                                                             }
                                                          }
                                                       }
                                                    }
                                                 }
                                              }
                                           }
                                        }
                                     },
                                     "placement":{
                                        "type":"object",
                                        "description":"The placement of the instance",
                                        "additionalProperties":false,
                                        "minProperties":1,
                                        "patternProperties":{
                                           "^[a-zA-Z0-9_.-]*$":{
                                              "type":"object",
                                              "description":"Arbitary name for the placement of the instance",
                                              "properties":{
                                                 "affinity":{
                                                    "type":"string",
                                                    "description":"specify affinity"
                                                 },
                                                 "availability_zone":{
                                                    "type":"string",
                                                    "description":"specify availability zone"
                                                 },
                                                 "group_name":{
                                                    "type":"string",
                                                    "description":"specify group name"
                                                 },
                                                 "host_id":{
                                                    "type":"string",
                                                    "description":"specify host id"
                                                 },
                                                 "host_resource_group_arn":{
                                                    "type":"string",
                                                    "description":"specify host resource group arn"
                                                 },
                                                 "spread_domain":{
                                                    "type":"string",
                                                    "description":"specify spread domain"
                                                 },
                                                 "tenancy":{
                                                    "type":"string",
                                                    "description":"specify tenancy"
                                                 },
                                                 "partition_number":{
                                                    "type":"string",
                                                    "description":"specify partition number"
                                                 }
                                              }
                                           }
                                        }
                                     },
                                     "instance_refresh":{
                                        "type":"object",
                                        "description":"If this block is configured, start an Instance Refresh when this Auto Scaling Group is updated",
                                        "additionalProperties":false,
                                        "minProperties":1,
                                        "patternProperties":{
                                           "^[a-zA-Z0-9_.-]*$":{
                                              "type":"object",
                                              "description":"Arbitary name for the instance refresh properties",
                                              "properties":{
                                                 "strategy":{
                                                    "type":"string",
                                                    "description":"Specify the strategy"
                                                 },
                                                 "triggers":{
                                                    "type":"string",
                                                    "description":"Specify the triggers"
                                                 },
                                                 "preferences":{
                                                    "type":"object",
                                                    "description":"Specify the preferences",
                                                    "additionalProperties":false,
                                                    "minProperties":1,
                                                    "patternProperties":{
                                                       "^[a-zA-Z0-9_.-]*$":{
                                                          "type":"object",
                                                          "description":"arbitary name for the preferences",
                                                          "properties":{
                                                             "checkpoint_delay":{
                                                                "type":"string",
                                                                "description":"specify checkpoint delay"
                                                             },
                                                             "checkpoint_percentages":{
                                                                "type":"string",
                                                                "description":"specify checkpoint percentage"
                                                             },
                                                             "instance_warmup":{
                                                                "type":"string",
                                                                "description":"specify instance warmup"
                                                             },
                                                             "min_healthy_percentage":{
                                                                "type":"string",
                                                                "description":"specify min healthy percentage"
                                                             }
                                                          }
                                                       }
                                                    }
                                                 }
                                              }
                                           }
                                        }
                                     },
                                     "network_interfaces":{
                                        "type":"object",
                                        "description":"Customize network interfaces to be attached at instance boot time",
                                        "additionalProperties":false,
                                        "minProperties":1,
                                        "patternProperties":{
                                           "^[a-zA-Z0-9_.-]*$":{
                                              "type":"object",
                                              "description":"Arbitary name for network interfaces",
                                              "properties":{
                                                 "associate_carrier_ip_address":{
                                                    "type":"string",
                                                    "description":"specify associate carrier ip address"
                                                 },
                                                 "associate_public_ip_address":{
                                                    "type":"string",
                                                    "description":"specify associate public ip address"
                                                 },
                                                 "delete_on_termination":{
                                                    "type":"string",
                                                    "description":"specify delete on termination"
                                                 },
                                                 "description":{
                                                    "type":"object",
                                                    "description":"specify description"
                                                 },
                                                 "device_index":{
                                                    "type":"string",
                                                    "description":"specify device index"
                                                 },
                                                 "interface_type":{
                                                    "type":"string",
                                                    "description":"specify interface type"
                                                 },
                                                 "ipv4_addresses":{
                                                    "type":"string",
                                                    "description":"specify ipv4 addresses"
                                                 },
                                                 "ipv4_address_count":{
                                                    "type":"string",
                                                    "description":"specify ipv4 address count"
                                                 },
                                                 "ipv6_addresses":{
                                                    "type":"string",
                                                    "description":"specify ipv6 addresses"
                                                 },
                                                 "ipv6_address_count":{
                                                    "type":"string",
                                                    "description":"specify ipv6 address count"
                                                 },
                                                 "network_interface_id":{
                                                    "type":"string",
                                                    "description":"specify network interface id"
                                                 },
                                                 "network_card_index":{
                                                    "type":"string",
                                                    "description":"specify network card index"
                                                 },
                                                 "private_ip_address":{
                                                    "type":"string",
                                                    "description":"specify private ip address"
                                                 },
                                                 "security_groups":{
                                                    "type":"string",
                                                    "description":"specify security groups"
                                                 },
                                                 "subnet_id":{
                                                    "type":"string",
                                                    "description":"specify subnet id"
                                                 }
                                              }
                                           }
                                        }
                                     },
                                     "metadata_options":{
                                        "type":"object",
                                        "description":"Customize the metadata options for the instance",
                                        "additionalProperties":false,
                                        "minProperties":1,
                                        "patternProperties":{
                                           "^[a-zA-Z0-9_.-]*$":{
                                              "type":"object",
                                              "description":"Arbitary name for metadata options",
                                              "properties":{
                                                 "http_endpoint":{
                                                    "type":"string",
                                                    "description":"specify http endpoint"
                                                 },
                                                 "http_tokens":{
                                                    "type":"string",
                                                    "description":"specify http tokens"
                                                 },
                                                 "http_put_response_hop_limit":{
                                                    "type":"string",
                                                    "description":"specify http put response hop limit"
                                                 },
                                                 "http_protocol_ipv6":{
                                                    "type":"string",
                                                    "description":"specify http protocol ipv6"
                                                 },
                                                 "instance_metadata_tags":{
                                                    "type":"string",
                                                    "description":"specify instance metadata tags"
                                                 }
                                              }
                                           }
                                        }
                                     },
                                     "instance_market_options":{
                                        "type":"object",
                                        "description":"The market (purchasing) option for the instance",
                                        "additionalProperties":false,
                                        "minProperties":1,
                                        "patternProperties":{
                                           "^[a-zA-Z0-9_.-]*$":{
                                              "type":"object",
                                              "description":"Arbitary name for the instance market options",
                                              "properties":{
                                                 "market_type":{
                                                    "type":"string",
                                                    "description":"specify market type"
                                                 },
                                                 "spot_options":{
                                                    "type":"object",
                                                    "description":"Define spot options",
                                                    "additionalProperties":false,
                                                    "minProperties":1,
                                                    "patternProperties":{
                                                       "^[a-zA-Z0-9_.-]*$":{
                                                          "type":"object",
                                                          "description":"Arbitary name for instance spot options",
                                                          "properties":{
                                                             "block_duration_minutes":{
                                                                "type":"string",
                                                                "description":"specify block duration minutes"
                                                             },
                                                             "instance_interruption_behavior":{
                                                                "type":"string",
                                                                "description":"specify instance interruption behavior"
                                                             },
                                                             "max_price":{
                                                                "type":"string",
                                                                "description":"specify max price"
                                                             },
                                                             "spot_instance_type":{
                                                                "type":"string",
                                                                "description":"specify spot instance type"
                                                             },
                                                             "valid_until":{
                                                                "type":"string",
                                                                "description":"specify valid until time"
                                                             }
                                                          }
                                                       }
                                                    }
                                                 }
                                              }
                                           }
                                        }
                                     },
                                     "scaling_policies":{
                                        "type":"object",
                                        "description":"Map of target scaling policy schedule to create",
                                        "additionalProperties":false,
                                        "minProperties":1,
                                        "patternProperties":{
                                           "^[a-zA-Z0-9_.-]*$":{
                                              "type":"object",
                                              "description":"Arbitary name for the scaling policies",
                                              "properties":{
                                                 "name":{
                                                    "type":"string",
                                                    "description":"specify the name"
                                                 },
                                                 "adjustment_type":{
                                                    "type":"string",
                                                    "description":"specify the adjustment type"
                                                 },
                                                 "policy_type":{
                                                    "type":"string",
                                                    "description":"specify the policy type"
                                                 },
                                                 "estimated_instance_warmup":{
                                                    "type":"string",
                                                    "description":"specify the estimated instance warmup"
                                                 },
                                                 "cooldown":{
                                                    "type":"string",
                                                    "description":"specify the cooldown value"
                                                 },
                                                 "min_adjustment_magnitude":{
                                                    "type":"string",
                                                    "description":"specify the min adjustment magnitude"
                                                 },
                                                 "metric_aggregation_type":{
                                                    "type":"string",
                                                    "description":"specify the metric aggregation type"
                                                 },
                                                 "step_adjustment":{
                                                    "type":"object",
                                                    "description":"define the step adjustment",
                                                    "additionalProperties":false,
                                                    "minProperties":1,
                                                    "patternProperties":{
                                                       "^[a-zA-Z0-9_.-]*$":{
                                                          "type":"object",
                                                          "description":"Arbitary name for the step adjustment",
                                                          "properties":{
                                                             "scaling_adjustment":{
                                                                "type":"string",
                                                                "description":"specify scaling adjustment"
                                                             },
                                                             "metric_interval_lower_bound":{
                                                                "type":"string",
                                                                "description":"specify the metric interval lower bound"
                                                             },
                                                             "metric_interval_upper_bound":{
                                                                "type":"string",
                                                                "description":"specify the metric interval upper bound"
                                                             }
                                                          }
                                                       }
                                                    }
                                                 },
                                                 "target_tracking_configuration":{
                                                    "type":"object",
                                                    "description":"Define target_tracking_configuration",
                                                    "additionalProperties":false,
                                                    "minProperties":1,
                                                    "patternProperties":{
                                                       "^[a-zA-Z0-9_.-]*$":{
                                                          "type":"object",
                                                          "description":"Arbitary name for the target tracking configuration",
                                                          "properties":{
                                                             "target_value":{
                                                                "type":"string",
                                                                "description":"specify target value"
                                                             },
                                                             "disable_scale_in":{
                                                                "type":"string",
                                                                "description":"specify disable scale in"
                                                             },
                                                             "predefined_metric_specification":{
                                                                "type":"object",
                                                                "description":"Define predefined metric specification",
                                                                "additionalProperties":false,
                                                                "minProperties":1,
                                                                "patternProperties":{
                                                                   "^[a-zA-Z0-9_.-]*$":{
                                                                      "type":"object",
                                                                      "description":"Arbitary name for the predefined metric specification",
                                                                      "properties":{
                                                                         "predefined_metric_type":{
                                                                            "type":"string",
                                                                            "description":"specify predefined metric type"
                                                                         }
                                                                      }
                                                                   }
                                                                }
                                                             },
                                                             "customized_metric_specification":{
                                                                "type":"object",
                                                                "description":"Define customized metric specification",
                                                                "additionalProperties":false,
                                                                "minProperties":1,
                                                                "patternProperties":{
                                                                   "^[a-zA-Z0-9_.-]*$":{
                                                                      "type":"object",
                                                                      "description":"Arbitary name for customized metric specification",
                                                                      "properties":{
                                                                         "metric_dimension":{
                                                                            "type":"object",
                                                                            "description":"Define metric dimension",
                                                                            "additionalProperties":false,
                                                                            "minProperties":1,
                                                                            "patternProperties":{
                                                                               "^[a-zA-Z0-9_.-]*$":{
                                                                                  "properties":{
                                                                                     "name":{
                                                                                        "type":"string",
                                                                                        "description":"specify name"
                                                                                     },
                                                                                     "value":{
                                                                                        "type":"string",
                                                                                        "description":"specify value"
                                                                                     }
                                                                                  }
                                                                               }
                                                                            }
                                                                         },
                                                                         "metric_name":{
                                                                            "type":"string",
                                                                            "description":"specify metric name"
                                                                         },
                                                                         "namespace":{
                                                                            "type":"string",
                                                                            "description":"Specify namespace"
                                                                         },
                                                                         "statistic":{
                                                                            "type":"string",
                                                                            "description":"specify statistic"
                                                                         },
                                                                         "unit":{
                                                                            "type":"string",
                                                                            "description":"specify unit"
                                                                         }
                                                                      }
                                                                   }
                                                                }
                                                             }
                                                          }
                                                       }
                                                    }
                                                 },
                                                 "predictive_scaling_configuration":{
                                                    "type":"object",
                                                    "description":"Define predictive scaling configuration",
                                                    "additionalProperties":false,
                                                    "minProperties":1,
                                                    "patternProperties":{
                                                       "^[a-zA-Z0-9_.-]*$":{
                                                          "type":"object",
                                                          "description":"Arbitary name for predictive scaling configuration",
                                                          "properties":{
                                                             "max_capacity_breach_behavior":{
                                                                "type":"string",
                                                                "description":" specify max capacity breach behavior"
                                                             },
                                                             "max_capacity_buffer":{
                                                                "type":"string",
                                                                "description":"specify max capacity buffer"
                                                             },
                                                             "mode":{
                                                                "type":"string",
                                                                "description":"specify mode"
                                                             },
                                                             "scheduling_buffer_time":{
                                                                "type":"string",
                                                                "description":" specify scheduling buffer time"
                                                             },
                                                             "metric_specification":{
                                                                "type":"object",
                                                                "description":"Define metric specification",
                                                                "additionalProperties":false,
                                                                "minProperties":1,
                                                                "patternProperties":{
                                                                   "^[a-zA-Z0-9_.-]*$":{
                                                                      "type":"object",
                                                                      "description":"Arbitary name for the metric specification",
                                                                      "properties":{
                                                                         "target_value":{
                                                                            "type":"string",
                                                                            "description":"specify target value"
                                                                         },
                                                                         "predefined_load_metric_specification":{
                                                                            "type":"object",
                                                                            "description":"Define predefined load metric specification",
                                                                            "additionalProperties":false,
                                                                            "minProperties":1,
                                                                            "patternProperties":{
                                                                               "^[a-zA-Z0-9_.-]*$":{
                                                                                  "type":"object",
                                                                                  "description":"Arbitary name for the predefined load metric specification",
                                                                                  "properties":{
                                                                                     "predefined_metric_type":{
                                                                                        "type":"string",
                                                                                        "description":"specify predefined metric type"
                                                                                     },
                                                                                     "resource_label":{
                                                                                        "type":"string",
                                                                                        "description":"specify resource label"
                                                                                     }
                                                                                  }
                                                                               }
                                                                            }
                                                                         },
                                                                         "predefined_metric_pair_specification":{
                                                                            "type":"object",
                                                                            "description":"define predefined metric pair specification",
                                                                            "additionalProperties":false,
                                                                            "minProperties":1,
                                                                            "patternProperties":{
                                                                               "^[a-zA-Z0-9_.-]*$":{
                                                                                  "type":"object",
                                                                                  "description":"Arbitary name for the predefined metric pair specification",
                                                                                  "properties":{
                                                                                     "predefined_metric_type":{
                                                                                        "type":"string",
                                                                                        "description":"specify predefined metric type"
                                                                                     },
                                                                                     "resource_label":{
                                                                                        "type":"string",
                                                                                        "description":"specify resource label"
                                                                                     }
                                                                                  }
                                                                               }
                                                                            }
                                                                         },
                                                                         "predefined_scaling_metric_specification":{
                                                                            "type":"object",
                                                                            "description":"Define predefined scaling metric specification",
                                                                            "additionalProperties":false,
                                                                            "minProperties":1,
                                                                            "patternProperties":{
                                                                               "^[a-zA-Z0-9_.-]*$":{
                                                                                  "type":"object",
                                                                                  "description":"Arbitary name for the predefined scaling metric specification",
                                                                                  "properties":{
                                                                                     "predefined_metric_type":{
                                                                                        "type":"string",
                                                                                        "description":"specify predefined metric type"
                                                                                     },
                                                                                     "resource_label":{
                                                                                        "type":"string",
                                                                                        "description":"specify resource label"
                                                                                     }
                                                                                  }
                                                                               }
                                                                            }
                                                                         }
                                                                      }
                                                                   }
                                                                }
                                                             }
                                                          }
                                                       }
                                                    }
                                                 }
                                              }
                                           }
                                        }
                                     },
                                     "cpu_options":{
                                        "type":"object",
                                        "description":"The CPU options for the instance",
                                        "additionalProperties":false,
                                        "minProperties":1,
                                        "patternProperties":{
                                           "^[a-zA-Z0-9_.-]*$":{
                                              "type":"object",
                                              "description":"Arbitary name for the cpu options",
                                              "properties":{
                                                 "core_count":{
                                                    "type":"string",
                                                    "description":"specify cpu core count"
                                                 },
                                                 "threads_per_core":{
                                                    "type":"string",
                                                    "description":"specify threads per core"
                                                 }
                                              }
                                           }
                                        }
                                     },
                                     "credit_specification":{
                                        "type":"object",
                                        "description":"Customize the credit specification of the instance",
                                        "additionalProperties":false,
                                        "minProperties":1,
                                        "patternProperties":{
                                           "^[a-zA-Z0-9_.-]*$":{
                                              "type":"object",
                                              "description":"Arbitary name for credit specification",
                                              "properties":{
                                                 "cpu_credits":{
                                                    "type":"string",
                                                    "description":"specify the cpu credits"
                                                 }
                                              }
                                           }
                                        }
                                     },
                                     "schedules":{
                                        "type":"object",
                                        "description":"Map of autoscaling group schedule to create",
                                        "additionalProperties":false,
                                        "minProperties":1,
                                        "patternProperties":{
                                           "^[a-zA-Z0-9_.-]*$":{
                                              "type":"object",
                                              "description":"Arbitary name for the schedules",
                                              "properties":{
                                                 "min_size":{
                                                    "type":"string",
                                                    "description":"specify minimum size"
                                                 },
                                                 "max_size":{
                                                    "type":"string",
                                                    "description":"specify max size"
                                                 },
                                                 "desired_capacity":{
                                                    "type":"string",
                                                    "description":"specify desired capacity"
                                                 },
                                                 "start_time":{
                                                    "type":"string",
                                                    "description":"specify start time"
                                                 },
                                                 "end_time":{
                                                    "type":"string",
                                                    "description":"specify end time"
                                                 },
                                                 "time_zone":{
                                                    "type":"string",
                                                    "description":"specify time zone"
                                                 }
                                              }
                                           }
                                        }
                                     },
                                     "block_device_mappings":{
                                        "type":"object",
                                        "description":"Specify volumes to attach to the instance besides the volumes specified by the AMI",
                                        "additionalProperties":false,
                                        "minProperties":1,
                                        "patternProperties":{
                                           "^[a-zA-Z0-9_.-]*$":{
                                              "type":"object",
                                              "description":"Arbitary name for block device mappings",
                                              "properties":{
                                                 "device_name":{
                                                    "type":"string",
                                                    "description":"specify device name"
                                                 },
                                                 "no_device":{
                                                    "type":"string",
                                                    "description":""
                                                 },
                                                 "virtual_name":{
                                                    "type":"string",
                                                    "description":"specify virtual name"
                                                 },
                                                 "ebs":{
                                                    "type":"object",
                                                    "description":"define ebs",
                                                    "additionalProperties":false,
                                                    "minProperties":1,
                                                    "patternProperties":{
                                                       "^[a-zA-Z0-9_.-]*$":{
                                                          "type":"object",
                                                          "description":"Arbitary name for ebs",
                                                          "properties":{
                                                             "delete_on_termination":{
                                                                "type":"string",
                                                                "description":"specify if delete on termination"
                                                             },
                                                             "encrypted":{
                                                                "type":"string",
                                                                "description":"specify if encrypted"
                                                             },
                                                             "kms_key_id":{
                                                                "type":"string",
                                                                "description":"specify kms key id"
                                                             },
                                                             "iops":{
                                                                "type":"string",
                                                                "description":"specify iops"
                                                             },
                                                             "throughput":{
                                                                "type":"string",
                                                                "description":"specify throughput"
                                                             },
                                                             "snapshot_id":{
                                                                "type":"string",
                                                                "description":"specify snapshot id"
                                                             },
                                                             "volume_size":{
                                                                "type":"string",
                                                                "description":"specify volume size"
                                                             },
                                                             "volume_type":{
                                                                "type":"string",
                                                                "description":"specify volume type"
                                                             }
                                                          }
                                                       }
                                                    }
                                                 }
                                              }
                                           }
                                        }
                                     }
                                  }
                               }
                            }
                         }
                      }
                   },
                   "gcp":{
                      "type":"object",
                      "description":"Map of all gcp advanced keys",
                      "$schema":"http://json-schema.org/draft-04/schema#",
                      "properties":{
                         "iam":{
                            "type":"object",
                            "description":"This is the iam key where all iam permissions are attached for the deployment",
                            "additionalProperties":false,
                            "minProperties":1,
                            "patternProperties":{
                               "^[a-zA-Z0-9_.-]*$":{
                                  "description":"This is the name of the iam object that you are creating, it can be of any name",
                                  "properties":{
                                     "role":{
                                        "type":"string",
                                        "description":"The id of the role that you want to attach to the deployment, you can check out this link on how to create roles in gcp https://cloud.google.com/iam/docs/creating-custom-roles#iam-custom-roles-get-metadata-console"
                                     }
                                  },
                                  "required":[
                                     "role"
                                  ]
                               }
                            }
                         }
                      }
                   },
                   "chart":{
                      "type":"object",
                      "description":"Map of all chart advanced keys",
                      "$schema":"http://json-schema.org/draft-04/schema#",
                      "properties":{
                         "image_pull_secrets":{
                            "type":"object",
                            "description":"Map of all the image pull secrets for the container image to be pulled from the repository. Each map should have name specified within it. For more information refer to: https://kubernetes.io/docs/tasks/configure-pod-container/pull-image-private-registry/#create-a-pod-that-uses-your-secret"
                         },
                         "node_selector":{
                            "type":"object",
                            "description":"Map of all node selectors for the application"
                         }
                      }
                   },
                   "common":{
                      "type":"object",
                      "description":"Map of all the advanced values passed to app-chart",
                      "$schema":"http://json-schema.org/draft-04/schema#",
                      "properties":{
                         "app_chart":{
                            "type":"object",
                            "description":"Map of all advanced values to be configured to app-chart",
                            "properties":{
                               "values":{
                                  "type":"object",
                                  "description":"Values to be passed to app-chart helm chart",
                                  "properties":{
                                     "enable_service_links":{
                                        "type":"boolean",
                                        "description":"Enable service links"
                                     },
                                     "hpa":{
                                        "type":"object",
                                        "description":"Configurations for horizontal pod autoscaler"
                                     },
                                     "pod":{
                                        "type":"object",
                                        "description":"Pod configurations"
                                     },
                                     "node":{
                                        "type":"object",
                                        "description":"Node configurations"
                                     },
                                     "tolerations":{
                                        "type":"object",
                                        "description":"Tolerations to be added to service",
                                        "patternProperties":{
                                           "^[a-zA-Z0-9_.-]*$":{
                                              "properties":{
                                                 "key":{
                                                    "type":"string"
                                                 },
                                                 "value":{
                                                    "type":"string"
                                                 },
                                                 "operator":{
                                                    "type":"string"
                                                 },
                                                 "effect":{
                                                    "type":"string"
                                                 }
                                              }
                                           }
                                        },
                                        "pod_distribution":{
                                           "type":"object",
                                           "description":"Pod topology for distributing pods across nodes",
                                           "patternProperties":{
                                              "^[a-zA-Z0-9_.-]*$":{
                                                 "properties":{
                                                    "max_skew":{
                                                       "type":"string",
                                                       "description":"describes the degree to which Pods may be unevenly distributed. You must specify this field and the number must be greater than zero"
                                                    },
                                                    "when_unsatisfiable":{
                                                       "type":"string",
                                                       "description":"indicates how to deal with a Pod if it doesn't satisfy the spread constraint: DoNotSchedule (default) tells the scheduler not to schedule it. ScheduleAnyway tells the scheduler to still schedule it while prioritizing nodes that minimize the skew",
                                                       "enum":[
                                                          "DoNotSchedule",
                                                          "ScheduleAnyway"
                                                       ]
                                                    },
                                                    "topology_key":{
                                                       "type":"string",
                                                       "description":"is the key of node labels. Nodes that have a label with this key and identical values are considered to be in the same topology. We call each instance of a topology (in other words, a <key, value> pair) a domain. The scheduler will try to put a balanced number of pods into each domain. Also, we define an eligible domain as a domain whose nodes meet the requirements of nodeAffinityPolicy and nodeTaintsPolicy"
                                                    }
                                                 }
                                              }
                                           }
                                        },
                                        "sidecars":{
                                           "type":"object",
                                           "description":"Sidecar containers configurations",
                                           "patternProperties":{
                                              "^[a-zA-Z0-9_.-]*$":{
                                                 "properties":{
                                                    "image":{
                                                       "type":"string",
                                                       "description":"Image of the sidecar container"
                                                    },
                                                    "runtime":{
                                                       "type":"object",
                                                       "properties":{
                                                          "size":{
                                                             "type":"object",
                                                             "description":"Resource request and limits configurations",
                                                             "properties":{
                                                                "cpu":{
                                                                   "type":"string",
                                                                   "description":"cpu request"
                                                                },
                                                                "memory":{
                                                                   "type":"string",
                                                                   "description":"memory request"
                                                                },
                                                                "cpu_limit":{
                                                                   "type":"string",
                                                                   "description":"cpu limit"
                                                                },
                                                                "memory_limit":{
                                                                   "type":"string",
                                                                   "description":"memory limit"
                                                                }
                                                             }
                                                          },
                                                          "volumes":{
                                                             "type":"object",
                                                             "description":"Volumes to be attached to sidecar",
                                                             "properties":{
                                                                "config_maps":{
                                                                   "type":"object",
                                                                   "description":"map of config_maps to attach to sidecar",
                                                                   "patternProperties":{
                                                                      "^[a-zA-Z0-9_.-]*$":{
                                                                         "properties":{
                                                                            "name":{
                                                                               "type":"string",
                                                                               "description":"name of the config map"
                                                                            },
                                                                            "mount_path":{
                                                                               "type":"string",
                                                                               "description":"the mount path for the config map"
                                                                            }
                                                                         }
                                                                      }
                                                                   }
                                                                }
                                                             }
                                                          },
                                                          "command":{
                                                             "type":"array",
                                                             "description":"Commands to run before starting sidecar container"
                                                          },
                                                          "args":{
                                                             "type":"array",
                                                             "description":"arguments to be passed to commands"
                                                          }
                                                       }
                                                    },
                                                    "env":{
                                                       "type":"object",
                                                       "description":"environment variables"
                                                    }
                                                 }
                                              }
                                           }
                                        },
                                        "security_context":{
                                           "type":"object",
                                           "description":"security context for container",
                                           "properties":{
                                              "fsgroup":{
                                                 "type":"string"
                                              },
                                              "run_as_user":{
                                                 "type":"string"
                                              },
                                              "run_as_group":{
                                                 "type":"string"
                                              },
                                              "fs_group_change_policy":{
                                                 "type":"string"
                                              },
                                              "run_as_non_root":{
                                                 "type":"boolean"
                                              },
                                              "linux_options":{
                                                 "type":"object"
                                              },
                                              "comp_profile":{
                                                 "type":"string"
                                              },
                                              "supplemental_groups":{
                                                 "type":"string"
                                              },
                                              "sysctls":{
                                                 "type":"string"
                                              },
                                              "windows_options":{
                                                 "type":"object"
                                              }
                                           }
                                        },
                                        "lifecycle":{
                                           "type":"object",
                                           "description":"",
                                           "properties":{
                                              "preStop":{
                                                 "type":"object",
                                                 "description":"",
                                                 "properties":{
                                                    "exec":{
                                                       "type":"object",
                                                       "description":"",
                                                       "properties":{
                                                          "command":{
                                                             "type":"array",
                                                             "description":"The commands to be executed"
                                                          }
                                                       }
                                                    }
                                                 }
                                              },
                                              "postStart":{
                                                 "type":"object",
                                                 "description":"",
                                                 "properties":{
                                                    "exec":{
                                                       "type":"object",
                                                       "description":"",
                                                       "properties":{
                                                          "command":{
                                                             "type":"array",
                                                             "description":"The commands to be executed"
                                                          }
                                                       }
                                                    }
                                                 }
                                              }
                                           }
                                        }
                                     }
                                  }
                               }
                            }
                         }
                      }
                   }
                },
                "anyOf":[
                   {
                      "allOf":[
                         {
                            "if":{
                               "properties":{
                                  "flavor":{
                                     "enum":[
                                        "aws"
                                     ]
                                  }
                               }
                            },
                            "then":{
                               
                            }
                         },
                         {
                            "not":{
                               "required":[
                                  "gcp"
                               ]
                            }
                         }
                      ]
                   },
                   {
                      "allOf":[
                         {
                            "if":{
                               "properties":{
                                  "flavor":{
                                     "enum":[
                                        "gcp"
                                     ]
                                  }
                               }
                            },
                            "then":{
                               
                            }
                         },
                         {
                            "not":{
                               "required":[
                                  "aws"
                               ]
                            }
                         }
                      ]
                   }
                ]
             }
          }
       },
       "outDef":{
          "type":"object",
          "properties":{
             "out":{
                "type":"object",
                "properties":{
                   "interfaces":{
                      "type":"object",
                      "additionalProperties":false,
                      "minProperties":1,
                      "description":"The output for your service module, this can be generated or provided",
                      "patternProperties":{
                         "^[a-zA-Z0-9_.-]*$":{
                            "type":"object",
                            "description":"This is the name of the output interface this can be any name depending on the number of prefix domains in the domains block",
                            "allOf":[
                               {
                                  "$schema":"http://json-schema.org/draft-07/schema#",
                                  "type":"object",
                                  "required":[
                                     "host",
                                     "port",
                                     "connection_string"
                                  ],
                                  "properties":{
                                     "host":{
                                        "type":"string",
                                        "description":"The hostname or IP address of the database or cache server."
                                     },
                                     "port":{
                                        "type":"integer",
                                        "description":"The port number to use for connecting to the database or cache server.",
                                        "minimum":1,
                                        "maximum":65535
                                     },
                                     "username":{
                                        "type":"string",
                                        "description":"The username to use for authentication when connecting to the database or cache server."
                                     },
                                     "password":{
                                        "type":"string",
                                        "description":"The password to use for authentication when connecting to the database or cache server."
                                     },
                                     "connection_string":{
                                        "type":"string",
                                        "description":"The connection_string to use when connecting to the datastore."
                                     }
                                  }
                               },
                               {
                                  "type":"object",
                                  "properties":{
                                     "name":{
                                        "type":"string",
                                        "description":"The name of the service which we want to reference"
                                     }
                                  }
                               }
                            ]
                         }
                      }
                   }
                },
                "required":[
                   
                ]
             }
          }
       }
    }
 }
